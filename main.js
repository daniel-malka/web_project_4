!function(){"use strict";function e(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class t{constructor(t,s,r){e(this,"_removeCard",(()=>this._cardElement.remove())),e(this,"_toggleHeart",(e=>{e.target.classList.toggle("button_liked")})),this._title=t.title,this._link=t.link,this._alt="Photo of ".concat(t.title),this._templateElement=s,this._handleCardClick=r}_setEventListeners(){this._deleteCard.addEventListener("click",(()=>this._removeCard())),this._likeCard.addEventListener("click",(e=>this._toggleHeart(e))),this._galleryImg.addEventListener("click",(()=>this._handleCardClick(this._title,this._link)))}createCard(){return this._cardElement=document.querySelector(this._templateElement).content.querySelector(".gallery__item").cloneNode(!0),this._galleryImg=this._cardElement.querySelector(".gallery__img"),this._galleryText=this._cardElement.querySelector(".desc__text"),this._deleteCard=this._cardElement.querySelector(".gallery__bin"),this._likeCard=this._cardElement.querySelector(".desc__heart"),this._galleryImg.src=this._link,this._galleryText.textContent=this._title,this._galleryImg.alt=this._alt,this._setEventListeners(),this._cardElement}}function s(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class r{constructor(e,t){s(this,"resetValidation",(()=>{this._hideAllErrors(),this._formElement.reset(),this._disableButton()})),s(this,"enableValidation",(()=>{this._formElement.addEventListener("submit",(e=>e.preventDefault())),this._setEventListeners()})),s(this,"_setEventListeners",(()=>{this._allInputs.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this._toggleButton(this._allInputs)}))}))})),s(this,"_hideAllErrors",(()=>{this._allInputs.forEach((e=>{this._hideInputError(e)}))})),s(this,"_disableButton",(()=>{const{buttonDisable:e}=this._settings;this._buttonEl.classList.add(e),this._buttonEl.disabled=!0})),s(this,"_showInputError",((e,t)=>{const{inputErrorClass:s,spanErrorClass:r}=this._settings;this._errorDynamicSpan=this._formElement.querySelector(".fieldset__error-type-".concat(e.id)),e.classList.add(s),this._errorDynamicSpan.textContent=t,this._errorDynamicSpan.classList.add(r)})),s(this,"_hideInputError",(e=>{const{inputErrorClass:t,spanErrorClass:s}=this._settings;this._errorDynamicSpan=this._formElement.querySelector(".fieldset__error-type-".concat(e.id)),e.classList.remove(t),this._errorDynamicSpan.classList.remove(s),this._errorDynamicSpan.textContent=""})),s(this,"_toggleButton",(e=>{const{buttonDisable:t}=this._settings;e.every((e=>e.validity.valid))?(this._buttonEl.classList.remove(t),this._buttonEl.disabled=!1):this._disableButton()})),s(this,"_checkInputValidity",(e=>{e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)})),this._settings=e,this._formElement=t,this._allInputs=Array.from(this._formElement.querySelectorAll(this._settings.inputSelector)),this._buttonEl=this._formElement.querySelector(this._settings.buttonSelector)}}function i(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class o{constructor(e){i(this,"_handleOverlay",(e=>{e.target.classList.contains("popup")&&this.close()})),i(this,"_handleEscClose",(e=>{"Escape"===e.key&&this.close()})),this._popup=document.querySelector(e)}open(){this._popup.classList.add("popup_open"),document.addEventListener("keydown",this._handleEscClose)}close(){this._popup.classList.remove("popup_open"),document.removeEventListener("keydown",this._handleEscClose)}setEventListeners(){this._popup.addEventListener("mousedown",this._handleOverlay),this._popup.querySelector(".popup__close").addEventListener("mousedown",(()=>this.close()))}}class n extends o{constructor(e,t){super(e),this._handleForm=t,this._form=this._popup.querySelector(".form"),this._inputs=Array.from(this._form.querySelectorAll(".fieldset__input"))}_getInputValues(){return this._values={},this._inputs.forEach((e=>{this._key=e.name,this._value=e.value,this._values[this._key]=this._value})),this._values}setEventListeners(){super.setEventListeners(),this._form.addEventListener("submit",(e=>{e.preventDefault(),this._valuesFromForm=this._getInputValues(),this._handleForm(this._valuesFromForm),super.close()}))}setInputValues(e){this._inputs.forEach((t=>{t.value=e[t.name]}))}close(){super.close(),this._form.reset()}}const l=(document.forms.formProfile.elements.name,document.forms.formProfile.elements.occupation,document.querySelector(".text__edit")),a=document.querySelector(".top__plus-box"),c={inputSelector:".fieldset__input",buttonSelector:".fieldset__button",buttonDisable:"fieldset__button_disabled",inputErrorClass:"fieldset__input_error",spanErrorClass:"fieldset__error-message-active"},h=new class{constructor(e){this._baseUrl=e.baseUrl,this._headers=e.headers,this._token=token}getUserInfo(){fetch(this._baseUrl+"/users/danielMalka",{headers:this._headers}).then((e=>e.ok?e.json():Promise.reject(e.statusText))).catch((e=>{console.log(e)}))}getCardsInfo(){fetch(this._baseUrl+"/cards",{headers:{authorization:this._token}}).then((e=>e.ok?e.json():Promise.reject(console.log(e.statusText))))}addCard(){fetch(this._baseUrl+"/cards",{method:"POST",body:JSON.stringify({name:"some string",link:"www.somelink.com"}),headers:this._headers}).then((e=>e.ok?e.json():Promise.reject(console.log(e.statusText))))}editProfile(){return fetch(this._baseUrl+"users/me",{method:"PATCH",headers:{authorization:this._token,"Content-Type":"application/json"},body:JSON.stringify({name:"another user name",about:"another about"})})}}({baseUrl:"https://around.nomoreparties.co/v1/",headers:{authorization:"6efb715f-3f27-47aa-b11b-00d476bb80a2","Content-Type":"application/json"}});h.getUserInfo().then((e=>{console.log("res =>",e)})).catch(console.log("err ")),h.getCardsInfo().then((e=>console.log("res =>",e))).catch(console.log),h.editProfile();const _={formImg:"formImg",formProfile:"formProfile"},u=e=>{const s=(e=>new t(e,"#gallery__item",((e,t)=>{p.open(e,t)})).createCard())(e);g.addItem(s)};Array.from(document.querySelectorAll(".form")).forEach((e=>{const t=new r(c,e),s=e.getAttribute("name");_[s]=t,t.enableValidation()}));const d=new class{constructor(e){let{nameSelector:t,occupationSelector:s}=e;this._userName=document.querySelector(t),this._userOccupation=document.querySelector(s)}getUserInfo(){return{name:this._userName.textContent,occupation:this._userOccupation.textContent}}setUserInfo(e){this._userName.textContent=e.name,this._userOccupation.textContent=e.occupation}}({nameSelector:".text__name",occupationSelector:".text__occupation"}),p=new class extends o{open(e,t){this._image=this._popup.querySelector(".popup__img"),this._caption=this._popup.querySelector(".popup__caption"),this._caption.textContent=e,this._image.src=t,this._image.alt="Photo of ".concat(e),super.open()}}(".popup_type_zoom");p.setEventListeners();const m=new n(".popup_type_profile",(e=>{d.setUserInfo(e)}));m.setEventListeners();const f=new n(".popup_type_card",(e=>{u({title:e.title,link:e.link}),f.close()}));f.setEventListeners();const g=new class{constructor(e,t){this._renderer=e,this._container=document.querySelector(t)}renderItems(e){e.forEach((e=>{this.addItem(e,this._renderer(e))}))}addItem(){}}(u,".gallery");fetch("").then((e=>{g.renderItems(e),console.log("hixcsdcs")})),a.addEventListener("click",(()=>(_[formImg.getAttribute("name")].resetValidation(),void f.open()))),l.addEventListener("click",(()=>{var e;_[formProfile.getAttribute("name")].resetValidation(),e=d.getUserInfo(),m.setInputValues(e),m.open()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Iiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL3V0aWxpdGllcy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL3BhZ2VzL2luZGV4LmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiXSwic291cmNlc0NvbnRlbnQiOlsiXHJcbmV4cG9ydCBjbGFzcyBDYXJkIHtcclxuICBjb25zdHJ1Y3RvcihkYXRhLCBzZWxlY3RvciwgaGFuZGxlQ2FyZENsaWNrKSB7XHJcbiAgICAodGhpcy5fdGl0bGUgPSBkYXRhLnRpdGxlKSxcclxuICAgICAgKHRoaXMuX2xpbmsgPSBkYXRhLmxpbmspLFxyXG4gICAgICAodGhpcy5fYWx0ID0gYFBob3RvIG9mICR7ZGF0YS50aXRsZX1gKTtcclxuICAgIHRoaXMuX3RlbXBsYXRlRWxlbWVudCA9IHNlbGVjdG9yO1xyXG4gICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrID0gaGFuZGxlQ2FyZENsaWNrO1xyXG4gIH1cclxuICBfcmVtb3ZlQ2FyZCA9ICgpID0+IHRoaXMuX2NhcmRFbGVtZW50LnJlbW92ZSgpO1xyXG4gIF90b2dnbGVIZWFydCA9IChldnQpID0+IHtcclxuICAgIGV2dC50YXJnZXQuY2xhc3NMaXN0LnRvZ2dsZShcImJ1dHRvbl9saWtlZFwiKTtcclxuICB9O1xyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX2RlbGV0ZUNhcmQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHRoaXMuX3JlbW92ZUNhcmQoKSk7XHJcbiAgICB0aGlzLl9saWtlQ2FyZC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2dCkgPT4gdGhpcy5fdG9nZ2xlSGVhcnQoZXZ0KSk7XHJcbiAgICB0aGlzLl9nYWxsZXJ5SW1nLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PlxyXG4gICAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sodGhpcy5fdGl0bGUsIHRoaXMuX2xpbmspXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgY3JlYXRlQ2FyZCgpIHtcclxuICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gZG9jdW1lbnRcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5fdGVtcGxhdGVFbGVtZW50KVxyXG4gICAgICAuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmdhbGxlcnlfX2l0ZW1cIilcclxuICAgICAgLmNsb25lTm9kZSh0cnVlKTtcclxuXHJcbiAgICB0aGlzLl9nYWxsZXJ5SW1nID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5nYWxsZXJ5X19pbWdcIik7XHJcbiAgICB0aGlzLl9nYWxsZXJ5VGV4dCA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZGVzY19fdGV4dFwiKTtcclxuICAgIHRoaXMuX2RlbGV0ZUNhcmQgPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmdhbGxlcnlfX2JpblwiKTtcclxuICAgIHRoaXMuX2xpa2VDYXJkID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5kZXNjX19oZWFydFwiKTtcclxuXHJcbiAgICB0aGlzLl9nYWxsZXJ5SW1nLnNyYyA9IHRoaXMuX2xpbms7XHJcbiAgICB0aGlzLl9nYWxsZXJ5VGV4dC50ZXh0Q29udGVudCA9IHRoaXMuX3RpdGxlO1xyXG4gICAgdGhpcy5fZ2FsbGVyeUltZy5hbHQgPSB0aGlzLl9hbHQ7XHJcblxyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHJldHVybiB0aGlzLl9jYXJkRWxlbWVudDtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xyXG4gIGNvbnN0cnVjdG9yKHNldHRpbmdzLCBmb3JtRWxlbWVudCkge1xyXG4gICAgdGhpcy5fc2V0dGluZ3MgPSBzZXR0aW5ncztcclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gZm9ybUVsZW1lbnQ7XHJcbiAgICB0aGlzLl9hbGxJbnB1dHMgPSBBcnJheS5mcm9tKFxyXG4gICAgICB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX3NldHRpbmdzLmlucHV0U2VsZWN0b3IpXHJcbiAgICApO1xyXG4gICAgdGhpcy5fYnV0dG9uRWwgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICB0aGlzLl9zZXR0aW5ncy5idXR0b25TZWxlY3RvclxyXG4gICAgKTtcclxuICB9XHJcbiAgcmVzZXRWYWxpZGF0aW9uID0gKCkgPT4ge1xyXG4gICAgdGhpcy5faGlkZUFsbEVycm9ycygpO1xyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQucmVzZXQoKTtcclxuICAgIHRoaXMuX2Rpc2FibGVCdXR0b24oKTtcclxuICB9O1xyXG4gIGVuYWJsZVZhbGlkYXRpb24gPSAoKSA9PiB7XHJcbiAgICB0aGlzLl9mb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IGV2dC5wcmV2ZW50RGVmYXVsdCgpKTtcclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgfTtcclxuICBfc2V0RXZlbnRMaXN0ZW5lcnMgPSAoKSA9PiB7XHJcbiAgICB0aGlzLl9hbGxJbnB1dHMuZm9yRWFjaCgoaW5wdXRFbCkgPT4ge1xyXG4gICAgICBpbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWwpO1xyXG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvbih0aGlzLl9hbGxJbnB1dHMpO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH07XHJcbiAgX2hpZGVBbGxFcnJvcnMgPSAoKSA9PiB7XHJcbiAgICB0aGlzLl9hbGxJbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXQpO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuICBfZGlzYWJsZUJ1dHRvbiA9ICgpID0+IHtcclxuICAgIGNvbnN0IHsgYnV0dG9uRGlzYWJsZSB9ID0gdGhpcy5fc2V0dGluZ3M7XHJcbiAgICB0aGlzLl9idXR0b25FbC5jbGFzc0xpc3QuYWRkKGJ1dHRvbkRpc2FibGUpO1xyXG4gICAgdGhpcy5fYnV0dG9uRWwuZGlzYWJsZWQgPSB0cnVlO1xyXG4gIH07XHJcbiAgX3Nob3dJbnB1dEVycm9yID0gKGlucHV0RWwsIGVycm9yTWVzc2FnZSkgPT4ge1xyXG4gICAgY29uc3QgeyBpbnB1dEVycm9yQ2xhc3MsIHNwYW5FcnJvckNsYXNzIH0gPSB0aGlzLl9zZXR0aW5ncztcclxuICAgIHRoaXMuX2Vycm9yRHluYW1pY1NwYW4gPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBgLmZpZWxkc2V0X19lcnJvci10eXBlLSR7aW5wdXRFbC5pZH1gXHJcbiAgICApO1xyXG4gICAgaW5wdXRFbC5jbGFzc0xpc3QuYWRkKGlucHV0RXJyb3JDbGFzcyk7XHJcbiAgICB0aGlzLl9lcnJvckR5bmFtaWNTcGFuLnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xyXG4gICAgdGhpcy5fZXJyb3JEeW5hbWljU3Bhbi5jbGFzc0xpc3QuYWRkKHNwYW5FcnJvckNsYXNzKTtcclxuICB9O1xyXG4gIF9oaWRlSW5wdXRFcnJvciA9IChpbnB1dEVsKSA9PiB7XHJcbiAgICBjb25zdCB7IGlucHV0RXJyb3JDbGFzcywgc3BhbkVycm9yQ2xhc3MgfSA9IHRoaXMuX3NldHRpbmdzO1xyXG4gICAgdGhpcy5fZXJyb3JEeW5hbWljU3BhbiA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIGAuZmllbGRzZXRfX2Vycm9yLXR5cGUtJHtpbnB1dEVsLmlkfWBcclxuICAgICk7XHJcbiAgICBpbnB1dEVsLmNsYXNzTGlzdC5yZW1vdmUoaW5wdXRFcnJvckNsYXNzKTtcclxuICAgIHRoaXMuX2Vycm9yRHluYW1pY1NwYW4uY2xhc3NMaXN0LnJlbW92ZShzcGFuRXJyb3JDbGFzcyk7XHJcbiAgICB0aGlzLl9lcnJvckR5bmFtaWNTcGFuLnRleHRDb250ZW50ID0gXCJcIjtcclxuICB9O1xyXG4gIF90b2dnbGVCdXR0b24gPSAoaW5wdXRzKSA9PiB7XHJcbiAgICBjb25zdCB7IGJ1dHRvbkRpc2FibGUgfSA9IHRoaXMuX3NldHRpbmdzO1xyXG4gICAgY29uc3QgaXNJbnB1dHNWYWxpZCA9IGlucHV0cy5ldmVyeSgoaW5wdXQpID0+IGlucHV0LnZhbGlkaXR5LnZhbGlkKTtcclxuXHJcbiAgICBpZiAoaXNJbnB1dHNWYWxpZCkge1xyXG4gICAgICB0aGlzLl9idXR0b25FbC5jbGFzc0xpc3QucmVtb3ZlKGJ1dHRvbkRpc2FibGUpO1xyXG4gICAgICB0aGlzLl9idXR0b25FbC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fZGlzYWJsZUJ1dHRvbigpO1xyXG4gICAgfVxyXG4gIH07XHJcbiAgX2NoZWNrSW5wdXRWYWxpZGl0eSA9IChpbnB1dEVsKSA9PiB7XHJcbiAgICBpZiAoIWlucHV0RWwudmFsaWRpdHkudmFsaWQpIHtcclxuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbCwgaW5wdXRFbC52YWxpZGF0aW9uTWVzc2FnZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsKTtcclxuICAgIH1cclxuICB9O1xyXG59XHJcbiIsImV4cG9ydCBjbGFzcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgdGhpcy5fcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xyXG4gIH1cclxuICBfaGFuZGxlT3ZlcmxheSA9IChldnQpID0+IHtcclxuICAgIGlmIChldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcInBvcHVwXCIpKSB7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBfaGFuZGxlRXNjQ2xvc2UgPSAoZXZ0KSA9PiB7XHJcbiAgICBpZiAoZXZ0LmtleSA9PT0gXCJFc2NhcGVcIikge1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgfTtcclxuICBvcGVuKCkge1xyXG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LmFkZChcInBvcHVwX29wZW5cIik7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgfVxyXG4gIGNsb3NlKCkge1xyXG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LnJlbW92ZShcInBvcHVwX29wZW5cIik7XHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgfVxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCB0aGlzLl9oYW5kbGVPdmVybGF5KTtcclxuICAgIHRoaXMuX3BvcHVwXHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19jbG9zZVwiKVxyXG4gICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCAoKSA9PiB0aGlzLmNsb3NlKCkpO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBQb3B1cCB9IGZyb20gXCIuL1BvcHVwXCI7XHJcbmV4cG9ydCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIGhhbmRsZUZvcm0pIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5faGFuZGxlRm9ybSA9IGhhbmRsZUZvcm07XHJcbiAgICB0aGlzLl9mb3JtID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5mb3JtXCIpO1xyXG4gICAgdGhpcy5faW5wdXRzID0gQXJyYXkuZnJvbSh0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZmllbGRzZXRfX2lucHV0XCIpKTtcclxuICB9XHJcbiAgX2dldElucHV0VmFsdWVzKCkge1xyXG4gICAgdGhpcy5fdmFsdWVzID0ge307XHJcblxyXG4gICAgdGhpcy5faW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgIHRoaXMuX2tleSA9IGlucHV0Lm5hbWU7XHJcbiAgICAgIHRoaXMuX3ZhbHVlID0gaW5wdXQudmFsdWU7XHJcbiAgICAgIHRoaXMuX3ZhbHVlc1t0aGlzLl9rZXldID0gdGhpcy5fdmFsdWU7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiB0aGlzLl92YWx1ZXM7XHJcbiAgfVxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB0aGlzLl92YWx1ZXNGcm9tRm9ybSA9IHRoaXMuX2dldElucHV0VmFsdWVzKCk7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUZvcm0odGhpcy5fdmFsdWVzRnJvbUZvcm0pO1xyXG4gICAgICBzdXBlci5jbG9zZSgpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG4gIHNldElucHV0VmFsdWVzKGRhdGEpIHtcclxuICAgIHRoaXMuX2lucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG4gICAgICBpbnB1dC52YWx1ZSA9IGRhdGFbaW5wdXQubmFtZV07XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGNsb3NlKCkge1xyXG4gICAgc3VwZXIuY2xvc2UoKTtcclxuICAgIHRoaXMuX2Zvcm0ucmVzZXQoKTtcclxuICB9XHJcbn1cclxuIiwiY29uc3QgZ2FsbGVyeVdyYXAgPSBcIi5nYWxsZXJ5XCI7XHJcbmNvbnN0IGFkZENhcmRQb3B1cCA9IFwiLnBvcHVwX3R5cGVfY2FyZFwiO1xyXG5jb25zdCBwcm9maWxlUG9wdXAgPSBcIi5wb3B1cF90eXBlX3Byb2ZpbGVcIjtcclxuY29uc3Qgb3BlbkltZ1ZpZXcgPSBcIi5wb3B1cF90eXBlX3pvb21cIjtcclxuY29uc3QgbmFtZUlucHV0ID0gZG9jdW1lbnQuZm9ybXMuZm9ybVByb2ZpbGUuZWxlbWVudHMubmFtZTtcclxuY29uc3Qgb2NjdXBhdGlvbklucHV0ID0gZG9jdW1lbnQuZm9ybXMuZm9ybVByb2ZpbGUuZWxlbWVudHMub2NjdXBhdGlvbjtcclxuY29uc3QgdGVtcGxhdGVTZWxlY3RvciA9IFwiI2dhbGxlcnlfX2l0ZW1cIjtcclxuY29uc3Qgc3BhbkFycmF5ID0ge1xyXG4gIG5hbWVTZWxlY3RvcjogXCIudGV4dF9fbmFtZVwiLFxyXG4gIG9jY3VwYXRpb25TZWxlY3RvcjogXCIudGV4dF9fb2NjdXBhdGlvblwiLFxyXG59O1xyXG5jb25zdCBvcGVuUHJvZmlsZUVkaXRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRleHRfX2VkaXRcIik7XHJcbmNvbnN0IG9wZW5JbWdBZGRQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudG9wX19wbHVzLWJveFwiKTtcclxuLy9zZXR0aW5nc1xyXG5jb25zdCBzZXR0aW5ncyA9IHtcclxuICBpbnB1dFNlbGVjdG9yOiBcIi5maWVsZHNldF9faW5wdXRcIixcclxuICBidXR0b25TZWxlY3RvcjogXCIuZmllbGRzZXRfX2J1dHRvblwiLFxyXG4gIGJ1dHRvbkRpc2FibGU6IFwiZmllbGRzZXRfX2J1dHRvbl9kaXNhYmxlZFwiLFxyXG4gIGlucHV0RXJyb3JDbGFzczogXCJmaWVsZHNldF9faW5wdXRfZXJyb3JcIixcclxuICBzcGFuRXJyb3JDbGFzczogXCJmaWVsZHNldF9fZXJyb3ItbWVzc2FnZS1hY3RpdmVcIixcclxufTtcclxuY29uc3QgaW5pdGlhbEdhbGxlcnkgPSBbXHJcbiAge1xyXG4gICAgdGl0bGU6IFwiS2VuYWkgRmpvcmRzIGludGVyYXRpb25hbCBQYXJrXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vaW1hZ2VzLnVuc3BsYXNoLmNvbS9waG90by0xNjMzOTY3OTIwMzc2LTMzYjJkOTRmMDkxZj9peGxpYj1yYi0xLjIuMSZpeGlkPU1ud3hNakEzZkRCOE1IeHdhRzkwYnkxd1lXZGxmSHg4ZkdWdWZEQjhmSHg4JmF1dG89Zm9ybWF0JmZpdD1jcm9wJnc9ODcwJnE9ODBcIixcclxuICB9LFxyXG4gIHtcclxuICAgIHRpdGxlOiBcIlllbGxvd2xpbmtuZSBOYXRpb25hbCBQYXJrXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vaW1hZ2VzLnVuc3BsYXNoLmNvbS9waG90by0xNjA3NTUwMjk1MjYxLTg1MWZhNjBkOGVkMj9peGxpYj1yYi0xLjIuMSZpeGlkPU1ud3hNakEzZkRCOE1IeHdhRzkwYnkxd1lXZGxmSHg4ZkdWdWZEQjhmSHg4JmF1dG89Zm9ybWF0JmZpdD1jcm9wJnc9ODcxJnE9ODBcIixcclxuICB9LFxyXG4gIHtcclxuICAgIHRpdGxlOiBcIk5pYWdhcmEgRmFsbHNcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9pbWFnZXMudW5zcGxhc2guY29tL3Bob3RvLTE1OTg0MDI0NTM4NjEtNGZiY2JmNmNlZDNiP2l4bGliPXJiLTEuMi4xJml4aWQ9TW53eE1qQTNmREI4TUh4d2FHOTBieTF3WVdkbGZIeDhmR1Z1ZkRCOGZIeDgmYXV0bz1mb3JtYXQmZml0PWNyb3Amdz0xOTc0JnE9ODBcIixcclxuICB9LFxyXG4gIHtcclxuICAgIHRpdGxlOiBcIlppb24gTmF0aW9uYWwgUGFya1wiLFxyXG4gICAgbGluazogXCJodHRwczovL2ltYWdlcy51bnNwbGFzaC5jb20vcGhvdG8tMTUwMjc0NjY2MzA4NC0xNGI1OWI2OTI0ZjI/aXhsaWI9cmItMS4yLjEmaXhpZD1Nbnd4TWpBM2ZEQjhNSHh3YUc5MGJ5MXdZV2RsZkh4OGZHVnVmREI4Zkh4OCZhdXRvPWZvcm1hdCZmaXQ9Y3JvcCZ3PTg3MCZxPTgwXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICB0aXRsZTogXCJLYXVhaSBpc2xhbmRzXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vaW1hZ2VzLnVuc3BsYXNoLmNvbS9waG90by0xNjM4NDAxNjA0NzY1LTQ3ZGFhYTVhNmMzND9peGxpYj1yYi0xLjIuMSZpeGlkPU1ud3hNakEzZkRCOE1IeHdhRzkwYnkxd1lXZGxmSHg4ZkdWdWZEQjhmSHg4JmF1dG89Zm9ybWF0JmZpdD1jcm9wJnc9NzgxJnE9ODBcIixcclxuICB9LFxyXG4gIHtcclxuICAgIHRpdGxlOiBcIkdyYW5kIENhbnlvblwiLFxyXG4gICAgbGluazogXCJodHRwczovL2ltYWdlcy51bnNwbGFzaC5jb20vcGhvdG8tMTUwOTMxNjc4NTI4OS0wMjVmNWI4NDZiMzU/aXhsaWI9cmItMS4yLjEmaXhpZD1Nbnd4TWpBM2ZEQjhNSHh3YUc5MGJ5MXdZV2RsZkh4OGZHVnVmREI4Zkh4OCZhdXRvPWZvcm1hdCZmaXQ9Y3JvcCZ3PTg3NiZxPTgwXCIsXHJcbiAgfSxcclxuXTtcclxuZXhwb3J0IHtcclxuICBnYWxsZXJ5V3JhcCxcclxuICBhZGRDYXJkUG9wdXAsXHJcbiAgcHJvZmlsZVBvcHVwLFxyXG4gIG9wZW5JbWdWaWV3LFxyXG4gIG5hbWVJbnB1dCxcclxuICBvY2N1cGF0aW9uSW5wdXQsXHJcbiAgdGVtcGxhdGVTZWxlY3RvcixcclxuICBzcGFuQXJyYXksXHJcbiAgb3BlblByb2ZpbGVFZGl0QnV0dG9uLFxyXG4gIG9wZW5JbWdBZGRQb3B1cCxcclxuICBzZXR0aW5ncyxcclxuICBpbml0aWFsR2FsbGVyeSxcclxufTtcclxuIiwiY2xhc3MgQXBpIHtcclxuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XHJcbiAgICB0aGlzLl9iYXNlVXJsID0gb3B0aW9ucy5iYXNlVXJsO1xyXG4gICAgdGhpcy5faGVhZGVycyA9IG9wdGlvbnMuaGVhZGVycztcclxuICAgIHRoaXMuX3Rva2VuID0gdG9rZW47XHJcbiAgfVxyXG4gIGdldFVzZXJJbmZvKCkge1xyXG4gICAgZmV0Y2godGhpcy5fYmFzZVVybCArIFwiL3VzZXJzL2RhbmllbE1hbGthXCIsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pXHJcbiAgICAgIC50aGVuKChyZXMpID0+IChyZXMub2sgPyByZXMuanNvbigpIDogUHJvbWlzZS5yZWplY3QocmVzLnN0YXR1c1RleHQpKSlcclxuICAgICAgLmNhdGNoKChlKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgIH0pO1xyXG4gIH1cclxuICBnZXRDYXJkc0luZm8oKSB7XHJcbiAgICBmZXRjaCh0aGlzLl9iYXNlVXJsICsgXCIvY2FyZHNcIiwge1xyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fdG9rZW4sXHJcbiAgICAgIH0sXHJcbiAgICB9KS50aGVuKChyZXMpID0+XHJcbiAgICAgIHJlcy5vayA/IHJlcy5qc29uKCkgOiBQcm9taXNlLnJlamVjdChjb25zb2xlLmxvZyhyZXMuc3RhdHVzVGV4dCkpXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgYWRkQ2FyZCgpIHtcclxuICAgIGZldGNoKHRoaXMuX2Jhc2VVcmwgKyBcIi9jYXJkc1wiLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgbmFtZTogXCJzb21lIHN0cmluZ1wiLCBsaW5rOiBcInd3dy5zb21lbGluay5jb21cIiB9KSxcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pLnRoZW4oKHJlcykgPT5cclxuICAgICAgcmVzLm9rID8gcmVzLmpzb24oKSA6IFByb21pc2UucmVqZWN0KGNvbnNvbGUubG9nKHJlcy5zdGF0dXNUZXh0KSlcclxuICAgICk7XHJcbiAgfVxyXG4gIGVkaXRQcm9maWxlKCkge1xyXG4gICAgcmV0dXJuIGZldGNoKHRoaXMuX2Jhc2VVcmwgKyBcInVzZXJzL21lXCIsIHtcclxuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl90b2tlbixcclxuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICAgICAgfSxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIG5hbWU6IFwiYW5vdGhlciB1c2VyIG5hbWVcIixcclxuICAgICAgICBhYm91dDogXCJhbm90aGVyIGFib3V0XCIsXHJcbiAgICAgIH0pLFxyXG4gICAgICAvLyBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgIC8vICAgbmFtZTogXCJNYXJpZSBTa8WCb2Rvd3NrYSBDdXJpZVwiLFxyXG4gICAgICAvLyAgIGFib3V0OiBcIlBoeXNpY2lzdCBhbmQgQ2hlbWlzdFwiLFxyXG4gICAgICAvLyB9KSxcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG5leHBvcnQgY29uc3QgYXBpID0gbmV3IEFwaSh7XHJcbiAgYmFzZVVybDogXCJodHRwczovL2Fyb3VuZC5ub21vcmVwYXJ0aWVzLmNvL3YxL1wiLFxyXG4gIGhlYWRlcnM6IHtcclxuICAgIGF1dGhvcml6YXRpb246IFwiNmVmYjcxNWYtM2YyNy00N2FhLWIxMWItMDBkNDc2YmI4MGEyXCIsXHJcbiAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICB9LFxyXG59KTtcclxuIiwiaW1wb3J0IFwiLi9pbmRleC5jc3NcIjtcclxuaW1wb3J0IHsgQ2FyZCB9IGZyb20gXCIuLi9jb21wb25lbnRzL0NhcmRcIjtcclxuaW1wb3J0IHsgRm9ybVZhbGlkYXRvciB9IGZyb20gXCIuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3JcIjtcclxuaW1wb3J0IHsgUG9wdXBXaXRoSW1hZ2UgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZVwiO1xyXG5pbXBvcnQgeyBQb3B1cFdpdGhGb3JtIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybVwiO1xyXG5pbXBvcnQgeyBTZWN0aW9uIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvU2VjdGlvblwiO1xyXG5pbXBvcnQgeyBVc2VySW5mbyB9IGZyb20gXCIuLi9jb21wb25lbnRzL1VzZXJJbmZvXCI7XHJcbmltcG9ydCB7XHJcbiAgZ2FsbGVyeVdyYXAsXHJcbiAgYWRkQ2FyZFBvcHVwLFxyXG4gIHByb2ZpbGVQb3B1cCxcclxuICBvcGVuSW1nVmlldyxcclxuICBuYW1lSW5wdXQsXHJcbiAgb2NjdXBhdGlvbklucHV0LFxyXG4gIHRlbXBsYXRlU2VsZWN0b3IsXHJcbiAgc3BhbkFycmF5LFxyXG4gIG9wZW5Qcm9maWxlRWRpdEJ1dHRvbixcclxuICBvcGVuSW1nQWRkUG9wdXAsXHJcbiAgc2V0dGluZ3MsXHJcbiAgaW5pdGlhbEdhbGxlcnksXHJcbn0gZnJvbSBcIi4uL3V0aWxpdGllcy9jb25zdGFudHNcIjtcclxuaW1wb3J0IHsgYXBpIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvQXBpXCI7XHJcblxyXG4vL2Z1bmN0aW9ucy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuYXBpXHJcbiAgLmdldFVzZXJJbmZvKClcclxuICAudGhlbigocmVzKSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZyhcInJlcyA9PlwiLCByZXMpO1xyXG4gIH0pXHJcbiAgLmNhdGNoKGNvbnNvbGUubG9nKFwiZXJyIFwiKSk7XHJcbmFwaVxyXG4gIC5nZXRDYXJkc0luZm8oKVxyXG4gIC50aGVuKChyZXMpID0+IGNvbnNvbGUubG9nKFwicmVzID0+XCIsIHJlcykpXHJcbiAgLmNhdGNoKGNvbnNvbGUubG9nKTtcclxuYXBpLmVkaXRQcm9maWxlKCk7XHJcblxyXG5jb25zdCBzdWJtaXRlUHJvZmlsZUZvcm1JbnB1dHMgPSAoZGF0YSkgPT4ge1xyXG4gIHVzZXJJbmZvLnNldFVzZXJJbmZvKGRhdGEpO1xyXG59O1xyXG5cclxuY29uc3QgZm9ybVZhbGlkYXRvcnMgPSB7IGZvcm1JbWc6IFwiZm9ybUltZ1wiLCBmb3JtUHJvZmlsZTogXCJmb3JtUHJvZmlsZVwiIH07XHJcbmNvbnN0IGVuYWJsZVZhbGlkYXRpb24gPSAoKSA9PiB7XHJcbiAgY29uc3QgZm9ybUxpc3QgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZm9ybVwiKSk7XHJcbiAgZm9ybUxpc3QuZm9yRWFjaCgoZm9ybUVsKSA9PiB7XHJcbiAgICBjb25zdCB2YWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihzZXR0aW5ncywgZm9ybUVsKTtcclxuICAgIGNvbnN0IGZvcm1OYW1lID0gZm9ybUVsLmdldEF0dHJpYnV0ZShcIm5hbWVcIik7XHJcbiAgICBmb3JtVmFsaWRhdG9yc1tmb3JtTmFtZV0gPSB2YWxpZGF0b3I7XHJcbiAgICB2YWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG4gIH0pO1xyXG59O1xyXG5jb25zdCByZXNldEFuZE9wZW5JbWdBZGRGb3JtID0gKCkgPT4ge1xyXG4gIGZvcm1WYWxpZGF0b3JzW2Zvcm1JbWcuZ2V0QXR0cmlidXRlKFwibmFtZVwiKV0ucmVzZXRWYWxpZGF0aW9uKCk7XHJcbiAgYWRkQ2FyZEZvcm0ub3BlbigpO1xyXG59O1xyXG5jb25zdCBoYW5kbGVQcm9maWxlRm9ybUlucHV0cyA9IChkYXRhKSA9PiB7XHJcbiAgcHJvZmlsZUZvcm0uc2V0SW5wdXRWYWx1ZXMoZGF0YSk7XHJcbn07XHJcblxyXG5jb25zdCByZXNldEFuZE9wZW5Qcm9maWxlRm9ybSA9ICgpID0+IHtcclxuICBmb3JtVmFsaWRhdG9yc1tmb3JtUHJvZmlsZS5nZXRBdHRyaWJ1dGUoXCJuYW1lXCIpXS5yZXNldFZhbGlkYXRpb24oKTtcclxuICBjb25zdCBwcm9maWxlRGF0YSA9IHVzZXJJbmZvLmdldFVzZXJJbmZvKCk7XHJcbiAgaGFuZGxlUHJvZmlsZUZvcm1JbnB1dHMocHJvZmlsZURhdGEpO1xyXG4gIHByb2ZpbGVGb3JtLm9wZW4oKTtcclxufTtcclxuXHJcbmNvbnN0IGNyZWF0ZUNhcmQgPSAoZGF0YSkgPT4ge1xyXG4gIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChkYXRhLCB0ZW1wbGF0ZVNlbGVjdG9yLCAodGl0bGUsIGxpbmspID0+IHtcclxuICAgIHBvcHVwV2l0aEltYWdlLm9wZW4odGl0bGUsIGxpbmspO1xyXG4gIH0pO1xyXG4gIHJldHVybiBjYXJkLmNyZWF0ZUNhcmQoKTtcclxufTtcclxuY29uc3QgcmVuZGVyQ2FyZCA9IChkYXRhKSA9PiB7XHJcbiAgY29uc3QgY2FyZCA9IGNyZWF0ZUNhcmQoZGF0YSk7XHJcbiAgc2VjdGlvbi5hZGRJdGVtKGNhcmQpO1xyXG59O1xyXG5lbmFibGVWYWxpZGF0aW9uKCk7XHJcblxyXG4vL2NsYXNzZXMvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8oc3BhbkFycmF5KTtcclxuXHJcbmNvbnN0IHBvcHVwV2l0aEltYWdlID0gbmV3IFBvcHVwV2l0aEltYWdlKG9wZW5JbWdWaWV3KTtcclxucG9wdXBXaXRoSW1hZ2Uuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbmNvbnN0IHByb2ZpbGVGb3JtID0gbmV3IFBvcHVwV2l0aEZvcm0ocHJvZmlsZVBvcHVwLCBzdWJtaXRlUHJvZmlsZUZvcm1JbnB1dHMpO1xyXG5wcm9maWxlRm9ybS5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuY29uc3QgYWRkQ2FyZEZvcm0gPSBuZXcgUG9wdXBXaXRoRm9ybShhZGRDYXJkUG9wdXAsIChkYXRhKSA9PiB7XHJcbiAgcmVuZGVyQ2FyZChcclxuICAgIHtcclxuICAgICAgdGl0bGU6IGRhdGEudGl0bGUsXHJcbiAgICAgIGxpbms6IGRhdGEubGluayxcclxuICAgIH0sXHJcbiAgICBnYWxsZXJ5V3JhcFxyXG4gICk7XHJcbiAgYWRkQ2FyZEZvcm0uY2xvc2UoKTtcclxufSk7XHJcbmFkZENhcmRGb3JtLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5jb25zdCBzZWN0aW9uID0gbmV3IFNlY3Rpb24ocmVuZGVyQ2FyZCwgZ2FsbGVyeVdyYXApO1xyXG5cclxuZmV0Y2goXCJcIikudGhlbigocmVzKSA9PiB7XHJcbiAgc2VjdGlvbi5yZW5kZXJJdGVtcyhyZXMpO1xyXG4gIGNvbnNvbGUubG9nKFwiaGl4Y3NkY3NcIik7XHJcbn0pO1xyXG5cclxuLy9saXN0ZW5lcnMvLy8vLy8vLy8vXHJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxub3BlbkltZ0FkZFBvcHVwLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiByZXNldEFuZE9wZW5JbWdBZGRGb3JtKCkpO1xyXG5cclxub3BlblByb2ZpbGVFZGl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgcmVzZXRBbmRPcGVuUHJvZmlsZUZvcm0oKTtcclxufSk7XHJcbiIsImV4cG9ydCBjbGFzcyBVc2VySW5mbyB7XHJcbiAgY29uc3RydWN0b3IoeyBuYW1lU2VsZWN0b3IsIG9jY3VwYXRpb25TZWxlY3RvciB9KSB7XHJcbiAgICB0aGlzLl91c2VyTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobmFtZVNlbGVjdG9yKTtcclxuICAgIHRoaXMuX3VzZXJPY2N1cGF0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihvY2N1cGF0aW9uU2VsZWN0b3IpO1xyXG4gIH1cclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIG5hbWU6IHRoaXMuX3VzZXJOYW1lLnRleHRDb250ZW50LFxyXG4gICAgICBvY2N1cGF0aW9uOiB0aGlzLl91c2VyT2NjdXBhdGlvbi50ZXh0Q29udGVudCxcclxuICAgIH07XHJcbiAgfVxyXG4gIHNldFVzZXJJbmZvKGRhdGEpIHtcclxuICAgICh0aGlzLl91c2VyTmFtZS50ZXh0Q29udGVudCA9IGRhdGEubmFtZSksXHJcbiAgICAgICh0aGlzLl91c2VyT2NjdXBhdGlvbi50ZXh0Q29udGVudCA9IGRhdGEub2NjdXBhdGlvbik7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IFBvcHVwIH0gZnJvbSBcIi4vUG9wdXBcIjtcclxuZXhwb3J0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG4gIG9wZW4odGl0bGUsIGxpbmspIHtcclxuICAgIHRoaXMuX2ltYWdlID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faW1nXCIpO1xyXG4gICAgdGhpcy5fY2FwdGlvbiA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2NhcHRpb25cIik7XHJcblxyXG4gICAgKHRoaXMuX2NhcHRpb24udGV4dENvbnRlbnQgPSB0aXRsZSksXHJcbiAgICAgICh0aGlzLl9pbWFnZS5zcmMgPSBsaW5rKSxcclxuICAgICAgKHRoaXMuX2ltYWdlLmFsdCA9IGBQaG90byBvZiAke3RpdGxlfWApO1xyXG4gICAgc3VwZXIub3BlbigpO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgY2xhc3MgU2VjdGlvbiB7XHJcbiAgY29uc3RydWN0b3IocmVuZGVyZXIsIGNvbnRhaW5lclNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xyXG4gICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3Rvcik7XHJcbiAgfVxyXG4gIHJlbmRlckl0ZW1zKGl0ZW1zKSB7XHJcbiAgICBpdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgIHRoaXMuYWRkSXRlbShpdGVtLCB0aGlzLl9yZW5kZXJlcihpdGVtKSk7XHJcbiAgICB9KTtcclxuICB9XHJcbiAgYWRkSXRlbSgpIHt9XHJcbn1cclxuIl0sIm5hbWVzIjpbIkNhcmQiLCJjb25zdHJ1Y3RvciIsImRhdGEiLCJzZWxlY3RvciIsImhhbmRsZUNhcmRDbGljayIsInRoaXMiLCJfY2FyZEVsZW1lbnQiLCJyZW1vdmUiLCJldnQiLCJ0YXJnZXQiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJfdGl0bGUiLCJ0aXRsZSIsIl9saW5rIiwibGluayIsIl9hbHQiLCJfdGVtcGxhdGVFbGVtZW50IiwiX2hhbmRsZUNhcmRDbGljayIsIl9zZXRFdmVudExpc3RlbmVycyIsIl9kZWxldGVDYXJkIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9yZW1vdmVDYXJkIiwiX2xpa2VDYXJkIiwiX3RvZ2dsZUhlYXJ0IiwiX2dhbGxlcnlJbWciLCJjcmVhdGVDYXJkIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY29udGVudCIsImNsb25lTm9kZSIsIl9nYWxsZXJ5VGV4dCIsInNyYyIsInRleHRDb250ZW50IiwiYWx0IiwiRm9ybVZhbGlkYXRvciIsInNldHRpbmdzIiwiZm9ybUVsZW1lbnQiLCJfaGlkZUFsbEVycm9ycyIsIl9mb3JtRWxlbWVudCIsInJlc2V0IiwiX2Rpc2FibGVCdXR0b24iLCJwcmV2ZW50RGVmYXVsdCIsIl9hbGxJbnB1dHMiLCJmb3JFYWNoIiwiaW5wdXRFbCIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJfdG9nZ2xlQnV0dG9uIiwiaW5wdXQiLCJfaGlkZUlucHV0RXJyb3IiLCJidXR0b25EaXNhYmxlIiwiX3NldHRpbmdzIiwiX2J1dHRvbkVsIiwiYWRkIiwiZGlzYWJsZWQiLCJlcnJvck1lc3NhZ2UiLCJpbnB1dEVycm9yQ2xhc3MiLCJzcGFuRXJyb3JDbGFzcyIsIl9lcnJvckR5bmFtaWNTcGFuIiwiaWQiLCJpbnB1dHMiLCJldmVyeSIsInZhbGlkaXR5IiwidmFsaWQiLCJfc2hvd0lucHV0RXJyb3IiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJpbnB1dFNlbGVjdG9yIiwiYnV0dG9uU2VsZWN0b3IiLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJjb250YWlucyIsImNsb3NlIiwia2V5IiwiX3BvcHVwIiwib3BlbiIsIl9oYW5kbGVFc2NDbG9zZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJzZXRFdmVudExpc3RlbmVycyIsIl9oYW5kbGVPdmVybGF5IiwiUG9wdXBXaXRoRm9ybSIsImhhbmRsZUZvcm0iLCJzdXBlciIsIl9oYW5kbGVGb3JtIiwiX2Zvcm0iLCJfaW5wdXRzIiwiX2dldElucHV0VmFsdWVzIiwiX3ZhbHVlcyIsIl9rZXkiLCJuYW1lIiwiX3ZhbHVlIiwidmFsdWUiLCJfdmFsdWVzRnJvbUZvcm0iLCJzZXRJbnB1dFZhbHVlcyIsIm9wZW5Qcm9maWxlRWRpdEJ1dHRvbiIsImZvcm1zIiwiZm9ybVByb2ZpbGUiLCJlbGVtZW50cyIsIm9jY3VwYXRpb24iLCJvcGVuSW1nQWRkUG9wdXAiLCJhcGkiLCJvcHRpb25zIiwiX2Jhc2VVcmwiLCJiYXNlVXJsIiwiX2hlYWRlcnMiLCJoZWFkZXJzIiwiX3Rva2VuIiwidG9rZW4iLCJnZXRVc2VySW5mbyIsImZldGNoIiwidGhlbiIsInJlcyIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXNUZXh0IiwiY2F0Y2giLCJlIiwiY29uc29sZSIsImxvZyIsImdldENhcmRzSW5mbyIsImF1dGhvcml6YXRpb24iLCJhZGRDYXJkIiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJlZGl0UHJvZmlsZSIsImFib3V0IiwiZm9ybVZhbGlkYXRvcnMiLCJmb3JtSW1nIiwicmVuZGVyQ2FyZCIsImNhcmQiLCJwb3B1cFdpdGhJbWFnZSIsInNlY3Rpb24iLCJhZGRJdGVtIiwiZm9ybUVsIiwidmFsaWRhdG9yIiwiZm9ybU5hbWUiLCJnZXRBdHRyaWJ1dGUiLCJlbmFibGVWYWxpZGF0aW9uIiwidXNlckluZm8iLCJuYW1lU2VsZWN0b3IiLCJvY2N1cGF0aW9uU2VsZWN0b3IiLCJfdXNlck5hbWUiLCJfdXNlck9jY3VwYXRpb24iLCJzZXRVc2VySW5mbyIsIl9pbWFnZSIsIl9jYXB0aW9uIiwicHJvZmlsZUZvcm0iLCJhZGRDYXJkRm9ybSIsInJlbmRlcmVyIiwiY29udGFpbmVyU2VsZWN0b3IiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwicmVuZGVySXRlbXMiLCJpdGVtcyIsIml0ZW0iLCJyZXNldFZhbGlkYXRpb24iXSwic291cmNlUm9vdCI6IiJ9