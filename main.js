!function(){"use strict";function e(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class t{constructor(t,s,r){e(this,"_removeCard",(()=>this._cardElement.remove())),e(this,"_toggleHeart",(e=>{e.target.classList.toggle("button_liked")})),this._title=t.title,this._link=t.link,this._alt="Photo of ".concat(t.title),this._templateElement=s,this._handleCardClick=r}_setEventListeners(){this._deleteCard.addEventListener("click",(()=>this._removeCard())),this._likeCard.addEventListener("click",(e=>this._toggleHeart(e))),this._galleryImg.addEventListener("click",(()=>this._handleCardClick(this._title,this._link)))}createCard(){return this._cardElement=document.querySelector(this._templateElement).content.querySelector(".gallery__item").cloneNode(!0),this._galleryImg=this._cardElement.querySelector(".gallery__img"),this._galleryText=this._cardElement.querySelector(".desc__text"),this._deleteCard=this._cardElement.querySelector(".gallery__bin"),this._likeCard=this._cardElement.querySelector(".desc__heart"),this._galleryImg.src=this._link,this._galleryText.textContent=this._title,this._galleryImg.alt=this._alt,this._setEventListeners(),this._cardElement}}function s(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class r{constructor(e,t){s(this,"resetValidation",(()=>{this._hideAllErrors(),this._formElement.reset(),this._disableButton()})),s(this,"enableValidation",(()=>{this._formElement.addEventListener("submit",(e=>e.preventDefault())),this._setEventListeners()})),s(this,"_setEventListeners",(()=>{this._allInputs.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this._toggleButton(this._allInputs)}))}))})),s(this,"_hideAllErrors",(()=>{this._allInputs.forEach((e=>{this._hideInputError(e)}))})),s(this,"_disableButton",(()=>{const{buttonDisable:e}=this._settings;this._buttonEl.classList.add(e),this._buttonEl.disabled=!0})),s(this,"_showInputError",((e,t)=>{const{inputErrorClass:s,spanErrorClass:r}=this._settings;this._errorDynamicSpan=this._formElement.querySelector(".fieldset__error-type-".concat(e.id)),e.classList.add(s),this._errorDynamicSpan.textContent=t,this._errorDynamicSpan.classList.add(r)})),s(this,"_hideInputError",(e=>{const{inputErrorClass:t,spanErrorClass:s}=this._settings;this._errorDynamicSpan=this._formElement.querySelector(".fieldset__error-type-".concat(e.id)),e.classList.remove(t),this._errorDynamicSpan.classList.remove(s),this._errorDynamicSpan.textContent=""})),s(this,"_toggleButton",(e=>{const{buttonDisable:t}=this._settings;e.every((e=>e.validity.valid))?(this._buttonEl.classList.remove(t),this._buttonEl.disabled=!1):this._disableButton()})),s(this,"_checkInputValidity",(e=>{e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)})),this._settings=e,this._formElement=t,this._allInputs=Array.from(this._formElement.querySelectorAll(this._settings.inputSelector)),this._buttonEl=this._formElement.querySelector(this._settings.buttonSelector)}}function o(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class i{constructor(e){o(this,"_handleOverlay",(e=>{e.target.classList.contains("popup")&&this.close()})),o(this,"_handleEscClose",(e=>{"Escape"===e.key&&this.close()})),this._popup=document.querySelector(e)}open(){this._popup.classList.add("popup_open"),document.addEventListener("keydown",this._handleEscClose)}close(){this._popup.classList.remove("popup_open"),document.removeEventListener("keydown",this._handleEscClose)}setEventListeners(){this._popup.addEventListener("mousedown",this._handleOverlay),this._popup.querySelector(".popup__close").addEventListener("mousedown",(()=>this.close()))}}class n extends i{constructor(e,t){super(e),this._handleForm=t,this._form=this._popup.querySelector(".form"),this._inputs=Array.from(this._form.querySelectorAll(".fieldset__input"))}_getInputValues(){return this._values={},this._inputs.forEach((e=>{this._key=e.name,this._value=e.value,this._values[this._key]=this._value})),this._values}setEventListeners(){super.setEventListeners(),this._form.addEventListener("submit",(e=>{e.preventDefault(),this._valuesFromForm=this._getInputValues(),this._handleForm(this._valuesFromForm),super.close()}))}setInputValues(e){this._inputs.forEach((t=>{t.value=e[t.name]}))}close(){super.close(),this._form.reset()}}const l=(document.forms.formProfile.elements.name,document.forms.formProfile.elements.occupation,document.querySelector(".text__edit")),a=document.querySelector(".top__plus-box"),c={inputSelector:".fieldset__input",buttonSelector:".fieldset__button",buttonDisable:"fieldset__button_disabled",inputErrorClass:"fieldset__input_error",spanErrorClass:"fieldset__error-message-active"};console.log(11111,"!1111");const h=new class{constructor(e){this._baseUrl=e.baseUrl,this._headers=e.headers,this._token=token}getUserInfo(){fetch(this._baseUrl+"/users/danielMalka",{headers:this._headers}).then((e=>e.ok?e.json():Promise.reject(e.statusText))).catch((e=>{console.log(e)}))}getCardsInfo(){fetch(this._baseUrl+"/cards",{headers:{authorization:this._token}}).then((e=>e.ok?e.json():Promise.reject(console.log(e.statusText))))}addCard(){fetch(this._baseUrl+"/cards",{method:"POST",body:JSON.stringify({name:"some string",link:"www.somelink.com"}),headers:this._headers}).then((e=>e.ok?e.json():Promise.reject(console.log(e.statusText))))}editProfile(){return fetch(this._baseUrl+"/users/me",{method:"PATCH",headers:{authorization:this._token,"Content-Type":"application/json"},body:JSON.stringify({name:"another user name",about:"another about"})})}}({baseUrl:"https://around.nomoreparties.co/v1/cohort-3-en",headers:{authorization:"6efb715f-3f27-47aa-b11b-00d476bb80a2","Content-Type":"application/json"}});h.getUserInfo().then((e=>{console.log("res =>",e)})).catch(console.log("err ")),h.getCardsInfo().then((e=>console.log("res =>",e))).catch(console.log),h.editProfile();const _={formImg:"formImg",formProfile:"formProfile"},u=e=>{const s=(e=>new t(e,"#gallery__item",((e,t)=>{p.open(e,t)})).createCard())(e);g.addItem(s)};Array.from(document.querySelectorAll(".form")).forEach((e=>{const t=new r(c,e),s=e.getAttribute("name");_[s]=t,t.enableValidation()}));const d=new class{constructor(e){let{nameSelector:t,occupationSelector:s}=e;this._userName=document.querySelector(t),this._userOccupation=document.querySelector(s)}getUserInfo(){return{name:this._userName.textContent,occupation:this._userOccupation.textContent}}setUserInfo(e){this._userName.textContent=e.name,this._userOccupation.textContent=e.occupation}}({nameSelector:".text__name",occupationSelector:".text__occupation"}),p=new class extends i{open(e,t){this._image=this._popup.querySelector(".popup__img"),this._caption=this._popup.querySelector(".popup__caption"),this._caption.textContent=e,this._image.src=t,this._image.alt="Photo of ".concat(e),super.open()}}(".popup_type_zoom");p.setEventListeners();const m=new n(".popup_type_profile",(e=>{d.setUserInfo(e)}));m.setEventListeners();const f=new n(".popup_type_card",(e=>{u({title:e.title,link:e.link}),f.close()}));f.setEventListeners();const g=new class{constructor(e,t){this._renderer=e,this._container=document.querySelector(t)}renderItems(e){e.forEach((e=>{this.addItem(e,this._renderer(e))}))}addItem(){}}(u,".gallery");fetch("").then((e=>{g.renderItems(e),console.log("hixcsdcs")})),a.addEventListener("click",(()=>(_[formImg.getAttribute("name")].resetValidation(),void f.open()))),l.addEventListener("click",(()=>{var e;_[formProfile.getAttribute("name")].resetValidation(),e=d.getUserInfo(),m.setInputValues(e),m.open()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm1hcHBpbmdzIjoiaUpBQ08sTUFBTUEsRUFDWEMsWUFBWUMsRUFBTUMsRUFBVUMsR0FBaUIsc0JBTy9CLElBQU1DLEtBQUtDLGFBQWFDLFdBUE8sdUJBUTdCQyxJQUNkQSxFQUFJQyxPQUFPQyxVQUFVQyxPQUFPLGVBQTVCLElBUkNOLEtBQUtPLE9BQVNWLEVBQUtXLE1BQ2pCUixLQUFLUyxNQUFRWixFQUFLYSxLQUNsQlYsS0FBS1csS0FBTCxtQkFBd0JkLEVBQUtXLE9BQ2hDUixLQUFLWSxpQkFBbUJkLEVBQ3hCRSxLQUFLYSxpQkFBbUJkLENBQ3pCLENBS0RlLHFCQUNFZCxLQUFLZSxZQUFZQyxpQkFBaUIsU0FBUyxJQUFNaEIsS0FBS2lCLGdCQUN0RGpCLEtBQUtrQixVQUFVRixpQkFBaUIsU0FBVWIsR0FBUUgsS0FBS21CLGFBQWFoQixLQUNwRUgsS0FBS29CLFlBQVlKLGlCQUFpQixTQUFTLElBQ3pDaEIsS0FBS2EsaUJBQWlCYixLQUFLTyxPQUFRUCxLQUFLUyxRQUUzQyxDQUVEWSxhQWdCRSxPQWZBckIsS0FBS0MsYUFBZXFCLFNBQ2pCQyxjQUFjdkIsS0FBS1ksa0JBQ25CWSxRQUFRRCxjQUFjLGtCQUN0QkUsV0FBVSxHQUViekIsS0FBS29CLFlBQWNwQixLQUFLQyxhQUFhc0IsY0FBYyxpQkFDbkR2QixLQUFLMEIsYUFBZTFCLEtBQUtDLGFBQWFzQixjQUFjLGVBQ3BEdkIsS0FBS2UsWUFBY2YsS0FBS0MsYUFBYXNCLGNBQWMsaUJBQ25EdkIsS0FBS2tCLFVBQVlsQixLQUFLQyxhQUFhc0IsY0FBYyxnQkFFakR2QixLQUFLb0IsWUFBWU8sSUFBTTNCLEtBQUtTLE1BQzVCVCxLQUFLMEIsYUFBYUUsWUFBYzVCLEtBQUtPLE9BQ3JDUCxLQUFLb0IsWUFBWVMsSUFBTTdCLEtBQUtXLEtBRTVCWCxLQUFLYyxxQkFDRWQsS0FBS0MsWUFDYixFLHdIQ3RDSSxNQUFNNkIsRUFDWGxDLFlBQVltQyxFQUFVQyxHQUFhLDBCQVVqQixLQUNoQmhDLEtBQUtpQyxpQkFDTGpDLEtBQUtrQyxhQUFhQyxRQUNsQm5DLEtBQUtvQyxnQkFBTCxJQWJpQywyQkFlaEIsS0FDakJwQyxLQUFLa0MsYUFBYWxCLGlCQUFpQixVQUFXYixHQUFRQSxFQUFJa0MsbUJBQzFEckMsS0FBS2Msb0JBQUwsSUFqQmlDLDZCQW1CZCxLQUNuQmQsS0FBS3NDLFdBQVdDLFNBQVNDLElBQ3ZCQSxFQUFReEIsaUJBQWlCLFNBQVMsS0FDaENoQixLQUFLeUMsb0JBQW9CRCxHQUN6QnhDLEtBQUswQyxjQUFjMUMsS0FBS3NDLFdBQXhCLEdBRkYsR0FERixJQXBCaUMseUJBMkJsQixLQUNmdEMsS0FBS3NDLFdBQVdDLFNBQVNJLElBQ3ZCM0MsS0FBSzRDLGdCQUFnQkQsRUFBckIsR0FERixJQTVCaUMseUJBZ0NsQixLQUNmLE1BQU0sY0FBRUUsR0FBa0I3QyxLQUFLOEMsVUFDL0I5QyxLQUFLK0MsVUFBVTFDLFVBQVUyQyxJQUFJSCxHQUM3QjdDLEtBQUsrQyxVQUFVRSxVQUFXLENBQTFCLElBbkNpQywwQkFxQ2pCLENBQUNULEVBQVNVLEtBQzFCLE1BQU0sZ0JBQUVDLEVBQUYsZUFBbUJDLEdBQW1CcEQsS0FBSzhDLFVBQ2pEOUMsS0FBS3FELGtCQUFvQnJELEtBQUtrQyxhQUFhWCxjQUFsQixnQ0FDRWlCLEVBQVFjLEtBRW5DZCxFQUFRbkMsVUFBVTJDLElBQUlHLEdBQ3RCbkQsS0FBS3FELGtCQUFrQnpCLFlBQWNzQixFQUNyQ2xELEtBQUtxRCxrQkFBa0JoRCxVQUFVMkMsSUFBSUksRUFBckMsSUE1Q2lDLDBCQThDaEJaLElBQ2pCLE1BQU0sZ0JBQUVXLEVBQUYsZUFBbUJDLEdBQW1CcEQsS0FBSzhDLFVBQ2pEOUMsS0FBS3FELGtCQUFvQnJELEtBQUtrQyxhQUFhWCxjQUFsQixnQ0FDRWlCLEVBQVFjLEtBRW5DZCxFQUFRbkMsVUFBVUgsT0FBT2lELEdBQ3pCbkQsS0FBS3FELGtCQUFrQmhELFVBQVVILE9BQU9rRCxHQUN4Q3BELEtBQUtxRCxrQkFBa0J6QixZQUFjLEVBQXJDLElBckRpQyx3QkF1RGxCMkIsSUFDZixNQUFNLGNBQUVWLEdBQWtCN0MsS0FBSzhDLFVBQ1RTLEVBQU9DLE9BQU9iLEdBQVVBLEVBQU1jLFNBQVNDLFNBRzNEMUQsS0FBSytDLFVBQVUxQyxVQUFVSCxPQUFPMkMsR0FDaEM3QyxLQUFLK0MsVUFBVUUsVUFBVyxHQUUxQmpELEtBQUtvQyxnQkFDTixJQWhFZ0MsOEJBa0VaSSxJQUNoQkEsRUFBUWlCLFNBQVNDLE1BR3BCMUQsS0FBSzRDLGdCQUFnQkosR0FGckJ4QyxLQUFLMkQsZ0JBQWdCbkIsRUFBU0EsRUFBUW9CLGtCQUd2QyxJQXRFRDVELEtBQUs4QyxVQUFZZixFQUNqQi9CLEtBQUtrQyxhQUFlRixFQUNwQmhDLEtBQUtzQyxXQUFhdUIsTUFBTUMsS0FDdEI5RCxLQUFLa0MsYUFBYTZCLGlCQUFpQi9ELEtBQUs4QyxVQUFVa0IsZ0JBRXBEaEUsS0FBSytDLFVBQVkvQyxLQUFLa0MsYUFBYVgsY0FDakN2QixLQUFLOEMsVUFBVW1CLGVBRWxCLEUsd0hDVkksTUFBTUMsRUFDWHRFLFlBQVl1RSxHQUFlLHlCQUdUaEUsSUFDWkEsRUFBSUMsT0FBT0MsVUFBVStELFNBQVMsVUFDaENwRSxLQUFLcUUsT0FDTixJQU53QiwwQkFTUmxFLElBQ0QsV0FBWkEsRUFBSW1FLEtBQ050RSxLQUFLcUUsT0FDTixJQVhEckUsS0FBS3VFLE9BQVNqRCxTQUFTQyxjQUFjNEMsRUFDdEMsQ0FZREssT0FDRXhFLEtBQUt1RSxPQUFPbEUsVUFBVTJDLElBQUksY0FDMUIxQixTQUFTTixpQkFBaUIsVUFBV2hCLEtBQUt5RSxnQkFDM0MsQ0FDREosUUFDRXJFLEtBQUt1RSxPQUFPbEUsVUFBVUgsT0FBTyxjQUM3Qm9CLFNBQVNvRCxvQkFBb0IsVUFBVzFFLEtBQUt5RSxnQkFDOUMsQ0FDREUsb0JBQ0UzRSxLQUFLdUUsT0FBT3ZELGlCQUFpQixZQUFhaEIsS0FBSzRFLGdCQUMvQzVFLEtBQUt1RSxPQUNGaEQsY0FBYyxpQkFDZFAsaUJBQWlCLGFBQWEsSUFBTWhCLEtBQUtxRSxTQUM3QyxFQzNCSSxNQUFNUSxVQUFzQlgsRUFDakN0RSxZQUFZdUUsRUFBZVcsR0FDekJDLE1BQU1aLEdBQ05uRSxLQUFLZ0YsWUFBY0YsRUFDbkI5RSxLQUFLaUYsTUFBUWpGLEtBQUt1RSxPQUFPaEQsY0FBYyxTQUN2Q3ZCLEtBQUtrRixRQUFVckIsTUFBTUMsS0FBSzlELEtBQUtpRixNQUFNbEIsaUJBQWlCLG9CQUN2RCxDQUNEb0Isa0JBUUUsT0FQQW5GLEtBQUtvRixRQUFVLENBQUMsRUFFaEJwRixLQUFLa0YsUUFBUTNDLFNBQVNJLElBQ3BCM0MsS0FBS3FGLEtBQU8xQyxFQUFNMkMsS0FDbEJ0RixLQUFLdUYsT0FBUzVDLEVBQU02QyxNQUNwQnhGLEtBQUtvRixRQUFRcEYsS0FBS3FGLE1BQVFyRixLQUFLdUYsTUFBL0IsSUFFS3ZGLEtBQUtvRixPQUNiLENBQ0RULG9CQUNFSSxNQUFNSixvQkFDTjNFLEtBQUtpRixNQUFNakUsaUJBQWlCLFVBQVdiLElBQ3JDQSxFQUFJa0MsaUJBQ0pyQyxLQUFLeUYsZ0JBQWtCekYsS0FBS21GLGtCQUM1Qm5GLEtBQUtnRixZQUFZaEYsS0FBS3lGLGlCQUN0QlYsTUFBTVYsT0FBTixHQUVILENBQ0RxQixlQUFlN0YsR0FDYkcsS0FBS2tGLFFBQVEzQyxTQUFTSSxJQUNwQkEsRUFBTTZDLE1BQVEzRixFQUFLOEMsRUFBTTJDLEtBQXpCLEdBRUgsQ0FFRGpCLFFBQ0VVLE1BQU1WLFFBQ05yRSxLQUFLaUYsTUFBTTlDLE9BQ1osRUNwQ0gsTUFXTXdELEdBUFlyRSxTQUFTc0UsTUFBTUMsWUFBWUMsU0FBU1IsS0FDOUJoRSxTQUFTc0UsTUFBTUMsWUFBWUMsU0FBU0MsV0FNOUJ6RSxTQUFTQyxjQUFjLGdCQUMvQ3lFLEVBQWtCMUUsU0FBU0MsY0FBYyxrQkFFekNRLEVBQVcsQ0FDZmlDLGNBQWUsbUJBQ2ZDLGVBQWdCLG9CQUNoQnBCLGNBQWUsNEJBQ2ZNLGdCQUFpQix3QkFDakJDLGVBQWdCLGtDQ25CbEI2QyxRQUFRQyxJQUFJLE1BQU8sU0FzRFosTUFBTUMsRUFBTSxJQXBEbkIsTUFDRXZHLFlBQVl3RyxHQUNWcEcsS0FBS3FHLFNBQVdELEVBQVFFLFFBQ3hCdEcsS0FBS3VHLFNBQVdILEVBQVFJLFFBQ3hCeEcsS0FBS3lHLE9BQVNDLEtBQ2YsQ0FDREMsY0FDRUMsTUFBTTVHLEtBQUtxRyxTQUFXLHFCQUFzQixDQUMxQ0csUUFBU3hHLEtBQUt1RyxXQUViTSxNQUFNQyxHQUFTQSxFQUFJQyxHQUFLRCxFQUFJRSxPQUFTQyxRQUFRQyxPQUFPSixFQUFJSyxjQUN4REMsT0FBT0MsSUFDTnBCLFFBQVFDLElBQUltQixFQUFaLEdBRUwsQ0FDREMsZUFDRVYsTUFBTTVHLEtBQUtxRyxTQUFXLFNBQVUsQ0FDOUJHLFFBQVMsQ0FDUGUsY0FBZXZILEtBQUt5RyxVQUVyQkksTUFBTUMsR0FDUEEsRUFBSUMsR0FBS0QsRUFBSUUsT0FBU0MsUUFBUUMsT0FBT2pCLFFBQVFDLElBQUlZLEVBQUlLLGNBRXhELENBRURLLFVBQ0VaLE1BQU01RyxLQUFLcUcsU0FBVyxTQUFVLENBQzlCb0IsT0FBUSxPQUNSQyxLQUFNQyxLQUFLQyxVQUFVLENBQUV0QyxLQUFNLGNBQWU1RSxLQUFNLHFCQUNsRDhGLFFBQVN4RyxLQUFLdUcsV0FDYk0sTUFBTUMsR0FDUEEsRUFBSUMsR0FBS0QsRUFBSUUsT0FBU0MsUUFBUUMsT0FBT2pCLFFBQVFDLElBQUlZLEVBQUlLLGNBRXhELENBQ0RVLGNBQ0UsT0FBT2pCLE1BQU01RyxLQUFLcUcsU0FBVyxZQUFhLENBQ3hDb0IsT0FBUSxRQUNSakIsUUFBUyxDQUNQZSxjQUFldkgsS0FBS3lHLE9BQ3BCLGVBQWdCLG9CQUVsQmlCLEtBQU1DLEtBQUtDLFVBQVUsQ0FDbkJ0QyxLQUFNLG9CQUNOd0MsTUFBTyxtQkFPWixHQUV3QixDQUN6QnhCLFFBQVMsaURBQ1RFLFFBQVMsQ0FDUGUsY0FBZSx1Q0FDZixlQUFnQixzQkNqQ3BCcEIsRUFBQUEsY0FFR1UsTUFBTUMsSUFDTGIsUUFBUUMsSUFBSSxTQUFVWSxFQUF0QixJQUVETSxNQUFNbkIsUUFBUUMsSUFBSSxTQUNyQkMsRUFBQUEsZUFFR1UsTUFBTUMsR0FBUWIsUUFBUUMsSUFBSSxTQUFVWSxLQUNwQ00sTUFBTW5CLFFBQVFDLEtBQ2pCQyxFQUFJMEIsY0FFSixNQUlNRSxFQUFpQixDQUFFQyxRQUFTLFVBQVduQyxZQUFhLGVBK0JwRG9DLEVBQWNwSSxJQUNsQixNQUFNcUksRUFQWXJJLElBQ0wsSUFBSUYsRUFBS0UsRUY3REMsa0JFNkR1QixDQUFDVyxFQUFPRSxLQUNwRHlILEVBQWUzRCxLQUFLaEUsRUFBT0UsRUFBM0IsSUFFVVcsYUFHQ0EsQ0FBV3hCLEdBQ3hCdUksRUFBUUMsUUFBUUgsRUFBaEIsRUEvQmlCckUsTUFBTUMsS0FBS3hDLFNBQVN5QyxpQkFBaUIsVUFDN0N4QixTQUFTK0YsSUFDaEIsTUFBTUMsRUFBWSxJQUFJekcsRUFBY0MsRUFBVXVHLEdBQ3hDRSxFQUFXRixFQUFPRyxhQUFhLFFBQ3JDVixFQUFlUyxHQUFZRCxFQUMzQkEsRUFBVUcsa0JBQVYsSUFnQ0osTUFBTUMsRUFBVyxJQ2hGVixNQUNML0ksWUFBWSxHQUFzQyxJQUF0QyxhQUFFZ0osRUFBRixtQkFBZ0JDLEdBQXNCLEVBQ2hEN0ksS0FBSzhJLFVBQVl4SCxTQUFTQyxjQUFjcUgsR0FDeEM1SSxLQUFLK0ksZ0JBQWtCekgsU0FBU0MsY0FBY3NILEVBQy9DLENBQ0RsQyxjQUNFLE1BQU8sQ0FDTHJCLEtBQU10RixLQUFLOEksVUFBVWxILFlBQ3JCbUUsV0FBWS9GLEtBQUsrSSxnQkFBZ0JuSCxZQUVwQyxDQUNEb0gsWUFBWW5KLEdBQ1RHLEtBQUs4SSxVQUFVbEgsWUFBYy9CLEVBQUt5RixLQUNoQ3RGLEtBQUsrSSxnQkFBZ0JuSCxZQUFjL0IsRUFBS2tHLFVBQzVDLEdIUGUsQ0FDaEI2QyxhQUFjLGNBQ2RDLG1CQUFvQixzQkV5RWhCVixFQUFpQixJRWpGaEIsY0FBNkJqRSxFQUNsQ00sS0FBS2hFLEVBQU9FLEdBQ1ZWLEtBQUtpSixPQUFTakosS0FBS3VFLE9BQU9oRCxjQUFjLGVBQ3hDdkIsS0FBS2tKLFNBQVdsSixLQUFLdUUsT0FBT2hELGNBQWMsbUJBRXpDdkIsS0FBS2tKLFNBQVN0SCxZQUFjcEIsRUFDMUJSLEtBQUtpSixPQUFPdEgsSUFBTWpCLEVBQ2xCVixLQUFLaUosT0FBT3BILElBQVosbUJBQThCckIsR0FDakN1RSxNQUFNUCxNQUNQLEdKUGlCLG9CRWdGcEIyRCxFQUFleEQsb0JBRWYsTUFBTXdFLEVBQWMsSUFBSXRFLEVGbkZILHVCRW1DYWhGLElBQ2hDOEksRUFBU0ssWUFBWW5KLEVBQXJCLElBZ0RGc0osRUFBWXhFLG9CQUVaLE1BQU15RSxFQUFjLElBQUl2RSxFRnZGSCxvQkV1RmdDaEYsSUFDbkRvSSxFQUNFLENBQ0V6SCxNQUFPWCxFQUFLVyxNQUNaRSxLQUFNYixFQUFLYSxPQUlmMEksRUFBWS9FLE9BQVosSUFFRitFLEVBQVl6RSxvQkFFWixNQUFNeUQsRUFBVSxJR3BHVCxNQUNMeEksWUFBWXlKLEVBQVVDLEdBQ3BCdEosS0FBS3VKLFVBQVlGLEVBQ2pCckosS0FBS3dKLFdBQWFsSSxTQUFTQyxjQUFjK0gsRUFDMUMsQ0FDREcsWUFBWUMsR0FDVkEsRUFBTW5ILFNBQVNvSCxJQUNiM0osS0FBS3FJLFFBQVFzQixFQUFNM0osS0FBS3VKLFVBQVVJLEdBQWxDLEdBRUgsQ0FDRHRCLFVBQVksR0gwRmNKLEVGcEdSLFlFc0dwQnJCLE1BQU0sSUFBSUMsTUFBTUMsSUFDZHNCLEVBQVFxQixZQUFZM0MsR0FDcEJiLFFBQVFDLElBQUksV0FBWixJQU1GRixFQUFnQmhGLGlCQUFpQixTQUFTLEtBMUR4QytHLEVBQWVDLFFBQVFTLGFBQWEsU0FBU21CLHVCQUM3Q1IsRUFBWTVFLFVBMkRkbUIsRUFBc0IzRSxpQkFBaUIsU0FBUyxLQXJEaEIsSUFKQ25CLEVBSy9Ca0ksRUFBZWxDLFlBQVk0QyxhQUFhLFNBQVNtQixrQkFMbEIvSixFQU1YOEksRUFBU2hDLGNBTDdCd0MsRUFBWXpELGVBQWU3RixHQU8zQnNKLEVBQVkzRSxNQWtEYSxHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvdXRpbGl0aWVzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvcGFnZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcclxuZXhwb3J0IGNsYXNzIENhcmQge1xyXG4gIGNvbnN0cnVjdG9yKGRhdGEsIHNlbGVjdG9yLCBoYW5kbGVDYXJkQ2xpY2spIHtcclxuICAgICh0aGlzLl90aXRsZSA9IGRhdGEudGl0bGUpLFxyXG4gICAgICAodGhpcy5fbGluayA9IGRhdGEubGluayksXHJcbiAgICAgICh0aGlzLl9hbHQgPSBgUGhvdG8gb2YgJHtkYXRhLnRpdGxlfWApO1xyXG4gICAgdGhpcy5fdGVtcGxhdGVFbGVtZW50ID0gc2VsZWN0b3I7XHJcbiAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sgPSBoYW5kbGVDYXJkQ2xpY2s7XHJcbiAgfVxyXG4gIF9yZW1vdmVDYXJkID0gKCkgPT4gdGhpcy5fY2FyZEVsZW1lbnQucmVtb3ZlKCk7XHJcbiAgX3RvZ2dsZUhlYXJ0ID0gKGV2dCkgPT4ge1xyXG4gICAgZXZ0LnRhcmdldC5jbGFzc0xpc3QudG9nZ2xlKFwiYnV0dG9uX2xpa2VkXCIpO1xyXG4gIH07XHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fZGVsZXRlQ2FyZC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gdGhpcy5fcmVtb3ZlQ2FyZCgpKTtcclxuICAgIHRoaXMuX2xpa2VDYXJkLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZ0KSA9PiB0aGlzLl90b2dnbGVIZWFydChldnQpKTtcclxuICAgIHRoaXMuX2dhbGxlcnlJbWcuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+XHJcbiAgICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayh0aGlzLl90aXRsZSwgdGhpcy5fbGluaylcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBjcmVhdGVDYXJkKCkge1xyXG4gICAgdGhpcy5fY2FyZEVsZW1lbnQgPSBkb2N1bWVudFxyXG4gICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl90ZW1wbGF0ZUVsZW1lbnQpXHJcbiAgICAgIC5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZ2FsbGVyeV9faXRlbVwiKVxyXG4gICAgICAuY2xvbmVOb2RlKHRydWUpO1xyXG5cclxuICAgIHRoaXMuX2dhbGxlcnlJbWcgPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmdhbGxlcnlfX2ltZ1wiKTtcclxuICAgIHRoaXMuX2dhbGxlcnlUZXh0ID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5kZXNjX190ZXh0XCIpO1xyXG4gICAgdGhpcy5fZGVsZXRlQ2FyZCA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZ2FsbGVyeV9fYmluXCIpO1xyXG4gICAgdGhpcy5fbGlrZUNhcmQgPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmRlc2NfX2hlYXJ0XCIpO1xyXG5cclxuICAgIHRoaXMuX2dhbGxlcnlJbWcuc3JjID0gdGhpcy5fbGluaztcclxuICAgIHRoaXMuX2dhbGxlcnlUZXh0LnRleHRDb250ZW50ID0gdGhpcy5fdGl0bGU7XHJcbiAgICB0aGlzLl9nYWxsZXJ5SW1nLmFsdCA9IHRoaXMuX2FsdDtcclxuXHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgcmV0dXJuIHRoaXMuX2NhcmRFbGVtZW50O1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XHJcbiAgY29uc3RydWN0b3Ioc2V0dGluZ3MsIGZvcm1FbGVtZW50KSB7XHJcbiAgICB0aGlzLl9zZXR0aW5ncyA9IHNldHRpbmdzO1xyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQgPSBmb3JtRWxlbWVudDtcclxuICAgIHRoaXMuX2FsbElucHV0cyA9IEFycmF5LmZyb20oXHJcbiAgICAgIHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5fc2V0dGluZ3MuaW5wdXRTZWxlY3RvcilcclxuICAgICk7XHJcbiAgICB0aGlzLl9idXR0b25FbCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIHRoaXMuX3NldHRpbmdzLmJ1dHRvblNlbGVjdG9yXHJcbiAgICApO1xyXG4gIH1cclxuICByZXNldFZhbGlkYXRpb24gPSAoKSA9PiB7XHJcbiAgICB0aGlzLl9oaWRlQWxsRXJyb3JzKCk7XHJcbiAgICB0aGlzLl9mb3JtRWxlbWVudC5yZXNldCgpO1xyXG4gICAgdGhpcy5fZGlzYWJsZUJ1dHRvbigpO1xyXG4gIH07XHJcbiAgZW5hYmxlVmFsaWRhdGlvbiA9ICgpID0+IHtcclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4gZXZ0LnByZXZlbnREZWZhdWx0KCkpO1xyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICB9O1xyXG4gIF9zZXRFdmVudExpc3RlbmVycyA9ICgpID0+IHtcclxuICAgIHRoaXMuX2FsbElucHV0cy5mb3JFYWNoKChpbnB1dEVsKSA9PiB7XHJcbiAgICAgIGlucHV0RWwuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcclxuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbCk7XHJcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uKHRoaXMuX2FsbElucHV0cyk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuICBfaGlkZUFsbEVycm9ycyA9ICgpID0+IHtcclxuICAgIHRoaXMuX2FsbElucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dCk7XHJcbiAgICB9KTtcclxuICB9O1xyXG4gIF9kaXNhYmxlQnV0dG9uID0gKCkgPT4ge1xyXG4gICAgY29uc3QgeyBidXR0b25EaXNhYmxlIH0gPSB0aGlzLl9zZXR0aW5ncztcclxuICAgIHRoaXMuX2J1dHRvbkVsLmNsYXNzTGlzdC5hZGQoYnV0dG9uRGlzYWJsZSk7XHJcbiAgICB0aGlzLl9idXR0b25FbC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgfTtcclxuICBfc2hvd0lucHV0RXJyb3IgPSAoaW5wdXRFbCwgZXJyb3JNZXNzYWdlKSA9PiB7XHJcbiAgICBjb25zdCB7IGlucHV0RXJyb3JDbGFzcywgc3BhbkVycm9yQ2xhc3MgfSA9IHRoaXMuX3NldHRpbmdzO1xyXG4gICAgdGhpcy5fZXJyb3JEeW5hbWljU3BhbiA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIGAuZmllbGRzZXRfX2Vycm9yLXR5cGUtJHtpbnB1dEVsLmlkfWBcclxuICAgICk7XHJcbiAgICBpbnB1dEVsLmNsYXNzTGlzdC5hZGQoaW5wdXRFcnJvckNsYXNzKTtcclxuICAgIHRoaXMuX2Vycm9yRHluYW1pY1NwYW4udGV4dENvbnRlbnQgPSBlcnJvck1lc3NhZ2U7XHJcbiAgICB0aGlzLl9lcnJvckR5bmFtaWNTcGFuLmNsYXNzTGlzdC5hZGQoc3BhbkVycm9yQ2xhc3MpO1xyXG4gIH07XHJcbiAgX2hpZGVJbnB1dEVycm9yID0gKGlucHV0RWwpID0+IHtcclxuICAgIGNvbnN0IHsgaW5wdXRFcnJvckNsYXNzLCBzcGFuRXJyb3JDbGFzcyB9ID0gdGhpcy5fc2V0dGluZ3M7XHJcbiAgICB0aGlzLl9lcnJvckR5bmFtaWNTcGFuID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgYC5maWVsZHNldF9fZXJyb3ItdHlwZS0ke2lucHV0RWwuaWR9YFxyXG4gICAgKTtcclxuICAgIGlucHV0RWwuY2xhc3NMaXN0LnJlbW92ZShpbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgdGhpcy5fZXJyb3JEeW5hbWljU3Bhbi5jbGFzc0xpc3QucmVtb3ZlKHNwYW5FcnJvckNsYXNzKTtcclxuICAgIHRoaXMuX2Vycm9yRHluYW1pY1NwYW4udGV4dENvbnRlbnQgPSBcIlwiO1xyXG4gIH07XHJcbiAgX3RvZ2dsZUJ1dHRvbiA9IChpbnB1dHMpID0+IHtcclxuICAgIGNvbnN0IHsgYnV0dG9uRGlzYWJsZSB9ID0gdGhpcy5fc2V0dGluZ3M7XHJcbiAgICBjb25zdCBpc0lucHV0c1ZhbGlkID0gaW5wdXRzLmV2ZXJ5KChpbnB1dCkgPT4gaW5wdXQudmFsaWRpdHkudmFsaWQpO1xyXG5cclxuICAgIGlmIChpc0lucHV0c1ZhbGlkKSB7XHJcbiAgICAgIHRoaXMuX2J1dHRvbkVsLmNsYXNzTGlzdC5yZW1vdmUoYnV0dG9uRGlzYWJsZSk7XHJcbiAgICAgIHRoaXMuX2J1dHRvbkVsLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9kaXNhYmxlQnV0dG9uKCk7XHJcbiAgICB9XHJcbiAgfTtcclxuICBfY2hlY2tJbnB1dFZhbGlkaXR5ID0gKGlucHV0RWwpID0+IHtcclxuICAgIGlmICghaW5wdXRFbC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsLCBpbnB1dEVsLnZhbGlkYXRpb25NZXNzYWdlKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWwpO1xyXG4gICAgfVxyXG4gIH07XHJcbn1cclxuIiwiZXhwb3J0IGNsYXNzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9wb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XHJcbiAgfVxyXG4gIF9oYW5kbGVPdmVybGF5ID0gKGV2dCkgPT4ge1xyXG4gICAgaWYgKGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwicG9wdXBcIikpIHtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIF9oYW5kbGVFc2NDbG9zZSA9IChldnQpID0+IHtcclxuICAgIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH1cclxuICB9O1xyXG4gIG9wZW4oKSB7XHJcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QuYWRkKFwicG9wdXBfb3BlblwiKTtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICB9XHJcbiAgY2xvc2UoKSB7XHJcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QucmVtb3ZlKFwicG9wdXBfb3BlblwiKTtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICB9XHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9wb3B1cC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIHRoaXMuX2hhbmRsZU92ZXJsYXkpO1xyXG4gICAgdGhpcy5fcG9wdXBcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Nsb3NlXCIpXHJcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsICgpID0+IHRoaXMuY2xvc2UoKSk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IFBvcHVwIH0gZnJvbSBcIi4vUG9wdXBcIjtcclxuZXhwb3J0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgaGFuZGxlRm9ybSkge1xyXG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9oYW5kbGVGb3JtID0gaGFuZGxlRm9ybTtcclxuICAgIHRoaXMuX2Zvcm0gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1cIik7XHJcbiAgICB0aGlzLl9pbnB1dHMgPSBBcnJheS5mcm9tKHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvckFsbChcIi5maWVsZHNldF9faW5wdXRcIikpO1xyXG4gIH1cclxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XHJcbiAgICB0aGlzLl92YWx1ZXMgPSB7fTtcclxuXHJcbiAgICB0aGlzLl9pbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgdGhpcy5fa2V5ID0gaW5wdXQubmFtZTtcclxuICAgICAgdGhpcy5fdmFsdWUgPSBpbnB1dC52YWx1ZTtcclxuICAgICAgdGhpcy5fdmFsdWVzW3RoaXMuX2tleV0gPSB0aGlzLl92YWx1ZTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHRoaXMuX3ZhbHVlcztcclxuICB9XHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcclxuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIHRoaXMuX3ZhbHVlc0Zyb21Gb3JtID0gdGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKTtcclxuICAgICAgdGhpcy5faGFuZGxlRm9ybSh0aGlzLl92YWx1ZXNGcm9tRm9ybSk7XHJcbiAgICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgICB9KTtcclxuICB9XHJcbiAgc2V0SW5wdXRWYWx1ZXMoZGF0YSkge1xyXG4gICAgdGhpcy5faW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgIGlucHV0LnZhbHVlID0gZGF0YVtpbnB1dC5uYW1lXTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgY2xvc2UoKSB7XHJcbiAgICBzdXBlci5jbG9zZSgpO1xyXG4gICAgdGhpcy5fZm9ybS5yZXNldCgpO1xyXG4gIH1cclxufVxyXG4iLCJjb25zdCBnYWxsZXJ5V3JhcCA9IFwiLmdhbGxlcnlcIjtcclxuY29uc3QgYWRkQ2FyZFBvcHVwID0gXCIucG9wdXBfdHlwZV9jYXJkXCI7XHJcbmNvbnN0IHByb2ZpbGVQb3B1cCA9IFwiLnBvcHVwX3R5cGVfcHJvZmlsZVwiO1xyXG5jb25zdCBvcGVuSW1nVmlldyA9IFwiLnBvcHVwX3R5cGVfem9vbVwiO1xyXG5jb25zdCBuYW1lSW5wdXQgPSBkb2N1bWVudC5mb3Jtcy5mb3JtUHJvZmlsZS5lbGVtZW50cy5uYW1lO1xyXG5jb25zdCBvY2N1cGF0aW9uSW5wdXQgPSBkb2N1bWVudC5mb3Jtcy5mb3JtUHJvZmlsZS5lbGVtZW50cy5vY2N1cGF0aW9uO1xyXG5jb25zdCB0ZW1wbGF0ZVNlbGVjdG9yID0gXCIjZ2FsbGVyeV9faXRlbVwiO1xyXG5jb25zdCBzcGFuQXJyYXkgPSB7XHJcbiAgbmFtZVNlbGVjdG9yOiBcIi50ZXh0X19uYW1lXCIsXHJcbiAgb2NjdXBhdGlvblNlbGVjdG9yOiBcIi50ZXh0X19vY2N1cGF0aW9uXCIsXHJcbn07XHJcbmNvbnN0IG9wZW5Qcm9maWxlRWRpdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudGV4dF9fZWRpdFwiKTtcclxuY29uc3Qgb3BlbkltZ0FkZFBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50b3BfX3BsdXMtYm94XCIpO1xyXG4vL3NldHRpbmdzXHJcbmNvbnN0IHNldHRpbmdzID0ge1xyXG4gIGlucHV0U2VsZWN0b3I6IFwiLmZpZWxkc2V0X19pbnB1dFwiLFxyXG4gIGJ1dHRvblNlbGVjdG9yOiBcIi5maWVsZHNldF9fYnV0dG9uXCIsXHJcbiAgYnV0dG9uRGlzYWJsZTogXCJmaWVsZHNldF9fYnV0dG9uX2Rpc2FibGVkXCIsXHJcbiAgaW5wdXRFcnJvckNsYXNzOiBcImZpZWxkc2V0X19pbnB1dF9lcnJvclwiLFxyXG4gIHNwYW5FcnJvckNsYXNzOiBcImZpZWxkc2V0X19lcnJvci1tZXNzYWdlLWFjdGl2ZVwiLFxyXG59O1xyXG5jb25zdCBpbml0aWFsR2FsbGVyeSA9IFtcclxuICB7XHJcbiAgICB0aXRsZTogXCJLZW5haSBGam9yZHMgaW50ZXJhdGlvbmFsIFBhcmtcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9pbWFnZXMudW5zcGxhc2guY29tL3Bob3RvLTE2MzM5Njc5MjAzNzYtMzNiMmQ5NGYwOTFmP2l4bGliPXJiLTEuMi4xJml4aWQ9TW53eE1qQTNmREI4TUh4d2FHOTBieTF3WVdkbGZIeDhmR1Z1ZkRCOGZIeDgmYXV0bz1mb3JtYXQmZml0PWNyb3Amdz04NzAmcT04MFwiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgdGl0bGU6IFwiWWVsbG93bGlua25lIE5hdGlvbmFsIFBhcmtcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9pbWFnZXMudW5zcGxhc2guY29tL3Bob3RvLTE2MDc1NTAyOTUyNjEtODUxZmE2MGQ4ZWQyP2l4bGliPXJiLTEuMi4xJml4aWQ9TW53eE1qQTNmREI4TUh4d2FHOTBieTF3WVdkbGZIeDhmR1Z1ZkRCOGZIeDgmYXV0bz1mb3JtYXQmZml0PWNyb3Amdz04NzEmcT04MFwiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgdGl0bGU6IFwiTmlhZ2FyYSBGYWxsc1wiLFxyXG4gICAgbGluazogXCJodHRwczovL2ltYWdlcy51bnNwbGFzaC5jb20vcGhvdG8tMTU5ODQwMjQ1Mzg2MS00ZmJjYmY2Y2VkM2I/aXhsaWI9cmItMS4yLjEmaXhpZD1Nbnd4TWpBM2ZEQjhNSHh3YUc5MGJ5MXdZV2RsZkh4OGZHVnVmREI4Zkh4OCZhdXRvPWZvcm1hdCZmaXQ9Y3JvcCZ3PTE5NzQmcT04MFwiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgdGl0bGU6IFwiWmlvbiBOYXRpb25hbCBQYXJrXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vaW1hZ2VzLnVuc3BsYXNoLmNvbS9waG90by0xNTAyNzQ2NjYzMDg0LTE0YjU5YjY5MjRmMj9peGxpYj1yYi0xLjIuMSZpeGlkPU1ud3hNakEzZkRCOE1IeHdhRzkwYnkxd1lXZGxmSHg4ZkdWdWZEQjhmSHg4JmF1dG89Zm9ybWF0JmZpdD1jcm9wJnc9ODcwJnE9ODBcIixcclxuICB9LFxyXG4gIHtcclxuICAgIHRpdGxlOiBcIkthdWFpIGlzbGFuZHNcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9pbWFnZXMudW5zcGxhc2guY29tL3Bob3RvLTE2Mzg0MDE2MDQ3NjUtNDdkYWFhNWE2YzM0P2l4bGliPXJiLTEuMi4xJml4aWQ9TW53eE1qQTNmREI4TUh4d2FHOTBieTF3WVdkbGZIeDhmR1Z1ZkRCOGZIeDgmYXV0bz1mb3JtYXQmZml0PWNyb3Amdz03ODEmcT04MFwiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgdGl0bGU6IFwiR3JhbmQgQ2FueW9uXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vaW1hZ2VzLnVuc3BsYXNoLmNvbS9waG90by0xNTA5MzE2Nzg1Mjg5LTAyNWY1Yjg0NmIzNT9peGxpYj1yYi0xLjIuMSZpeGlkPU1ud3hNakEzZkRCOE1IeHdhRzkwYnkxd1lXZGxmSHg4ZkdWdWZEQjhmSHg4JmF1dG89Zm9ybWF0JmZpdD1jcm9wJnc9ODc2JnE9ODBcIixcclxuICB9LFxyXG5dO1xyXG5leHBvcnQge1xyXG4gIGdhbGxlcnlXcmFwLFxyXG4gIGFkZENhcmRQb3B1cCxcclxuICBwcm9maWxlUG9wdXAsXHJcbiAgb3BlbkltZ1ZpZXcsXHJcbiAgbmFtZUlucHV0LFxyXG4gIG9jY3VwYXRpb25JbnB1dCxcclxuICB0ZW1wbGF0ZVNlbGVjdG9yLFxyXG4gIHNwYW5BcnJheSxcclxuICBvcGVuUHJvZmlsZUVkaXRCdXR0b24sXHJcbiAgb3BlbkltZ0FkZFBvcHVwLFxyXG4gIHNldHRpbmdzLFxyXG4gIGluaXRpYWxHYWxsZXJ5LFxyXG59O1xyXG4iLCJjb25zb2xlLmxvZygxMTExMSwgXCIhMTExMVwiKTtcclxuXHJcbmNsYXNzIEFwaSB7XHJcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xyXG4gICAgdGhpcy5fYmFzZVVybCA9IG9wdGlvbnMuYmFzZVVybDtcclxuICAgIHRoaXMuX2hlYWRlcnMgPSBvcHRpb25zLmhlYWRlcnM7XHJcbiAgICB0aGlzLl90b2tlbiA9IHRva2VuO1xyXG4gIH1cclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIGZldGNoKHRoaXMuX2Jhc2VVcmwgKyBcIi91c2Vycy9kYW5pZWxNYWxrYVwiLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KVxyXG4gICAgICAudGhlbigocmVzKSA9PiAocmVzLm9rID8gcmVzLmpzb24oKSA6IFByb21pc2UucmVqZWN0KHJlcy5zdGF0dXNUZXh0KSkpXHJcbiAgICAgIC5jYXRjaCgoZSkgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICB9KTtcclxuICB9XHJcbiAgZ2V0Q2FyZHNJbmZvKCkge1xyXG4gICAgZmV0Y2godGhpcy5fYmFzZVVybCArIFwiL2NhcmRzXCIsIHtcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgIGF1dGhvcml6YXRpb246IHRoaXMuX3Rva2VuLFxyXG4gICAgICB9LFxyXG4gICAgfSkudGhlbigocmVzKSA9PlxyXG4gICAgICByZXMub2sgPyByZXMuanNvbigpIDogUHJvbWlzZS5yZWplY3QoY29uc29sZS5sb2cocmVzLnN0YXR1c1RleHQpKVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIGFkZENhcmQoKSB7XHJcbiAgICBmZXRjaCh0aGlzLl9iYXNlVXJsICsgXCIvY2FyZHNcIiwge1xyXG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IG5hbWU6IFwic29tZSBzdHJpbmdcIiwgbGluazogXCJ3d3cuc29tZWxpbmsuY29tXCIgfSksXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KS50aGVuKChyZXMpID0+XHJcbiAgICAgIHJlcy5vayA/IHJlcy5qc29uKCkgOiBQcm9taXNlLnJlamVjdChjb25zb2xlLmxvZyhyZXMuc3RhdHVzVGV4dCkpXHJcbiAgICApO1xyXG4gIH1cclxuICBlZGl0UHJvZmlsZSgpIHtcclxuICAgIHJldHVybiBmZXRjaCh0aGlzLl9iYXNlVXJsICsgXCIvdXNlcnMvbWVcIiwge1xyXG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgIGF1dGhvcml6YXRpb246IHRoaXMuX3Rva2VuLFxyXG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gICAgICB9LFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgbmFtZTogXCJhbm90aGVyIHVzZXIgbmFtZVwiLFxyXG4gICAgICAgIGFib3V0OiBcImFub3RoZXIgYWJvdXRcIixcclxuICAgICAgfSksXHJcbiAgICAgIC8vIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgLy8gICBuYW1lOiBcIk1hcmllIFNrxYJvZG93c2thIEN1cmllXCIsXHJcbiAgICAgIC8vICAgYWJvdXQ6IFwiUGh5c2ljaXN0IGFuZCBDaGVtaXN0XCIsXHJcbiAgICAgIC8vIH0pLFxyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcbmV4cG9ydCBjb25zdCBhcGkgPSBuZXcgQXBpKHtcclxuICBiYXNlVXJsOiBcImh0dHBzOi8vYXJvdW5kLm5vbW9yZXBhcnRpZXMuY28vdjEvY29ob3J0LTMtZW5cIixcclxuICBoZWFkZXJzOiB7XHJcbiAgICBhdXRob3JpemF0aW9uOiBcIjZlZmI3MTVmLTNmMjctNDdhYS1iMTFiLTAwZDQ3NmJiODBhMlwiLFxyXG4gICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbiAgfSxcclxufSk7XHJcbiIsImltcG9ydCBcIi4vaW5kZXguY3NzXCI7XHJcbmltcG9ydCB7IENhcmQgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkXCI7XHJcbmltcG9ydCB7IEZvcm1WYWxpZGF0b3IgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yXCI7XHJcbmltcG9ydCB7IFBvcHVwV2l0aEltYWdlIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2VcIjtcclxuaW1wb3J0IHsgUG9wdXBXaXRoRm9ybSB9IGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm1cIjtcclxuaW1wb3J0IHsgU2VjdGlvbiB9IGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb25cIjtcclxuaW1wb3J0IHsgVXNlckluZm8gfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Vc2VySW5mb1wiO1xyXG5pbXBvcnQge1xyXG4gIGdhbGxlcnlXcmFwLFxyXG4gIGFkZENhcmRQb3B1cCxcclxuICBwcm9maWxlUG9wdXAsXHJcbiAgb3BlbkltZ1ZpZXcsXHJcbiAgbmFtZUlucHV0LFxyXG4gIG9jY3VwYXRpb25JbnB1dCxcclxuICB0ZW1wbGF0ZVNlbGVjdG9yLFxyXG4gIHNwYW5BcnJheSxcclxuICBvcGVuUHJvZmlsZUVkaXRCdXR0b24sXHJcbiAgb3BlbkltZ0FkZFBvcHVwLFxyXG4gIHNldHRpbmdzLFxyXG4gIGluaXRpYWxHYWxsZXJ5LFxyXG59IGZyb20gXCIuLi91dGlsaXRpZXMvY29uc3RhbnRzXCI7XHJcbmltcG9ydCB7IGFwaSB9IGZyb20gXCIuLi9jb21wb25lbnRzL0FwaVwiO1xyXG5cclxuLy9mdW5jdGlvbnMvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbmFwaVxyXG4gIC5nZXRVc2VySW5mbygpXHJcbiAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgY29uc29sZS5sb2coXCJyZXMgPT5cIiwgcmVzKTtcclxuICB9KVxyXG4gIC5jYXRjaChjb25zb2xlLmxvZyhcImVyciBcIikpO1xyXG5hcGlcclxuICAuZ2V0Q2FyZHNJbmZvKClcclxuICAudGhlbigocmVzKSA9PiBjb25zb2xlLmxvZyhcInJlcyA9PlwiLCByZXMpKVxyXG4gIC5jYXRjaChjb25zb2xlLmxvZyk7XHJcbmFwaS5lZGl0UHJvZmlsZSgpO1xyXG5cclxuY29uc3Qgc3VibWl0ZVByb2ZpbGVGb3JtSW5wdXRzID0gKGRhdGEpID0+IHtcclxuICB1c2VySW5mby5zZXRVc2VySW5mbyhkYXRhKTtcclxufTtcclxuXHJcbmNvbnN0IGZvcm1WYWxpZGF0b3JzID0geyBmb3JtSW1nOiBcImZvcm1JbWdcIiwgZm9ybVByb2ZpbGU6IFwiZm9ybVByb2ZpbGVcIiB9O1xyXG5jb25zdCBlbmFibGVWYWxpZGF0aW9uID0gKCkgPT4ge1xyXG4gIGNvbnN0IGZvcm1MaXN0ID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmZvcm1cIikpO1xyXG4gIGZvcm1MaXN0LmZvckVhY2goKGZvcm1FbCkgPT4ge1xyXG4gICAgY29uc3QgdmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3Ioc2V0dGluZ3MsIGZvcm1FbCk7XHJcbiAgICBjb25zdCBmb3JtTmFtZSA9IGZvcm1FbC5nZXRBdHRyaWJ1dGUoXCJuYW1lXCIpO1xyXG4gICAgZm9ybVZhbGlkYXRvcnNbZm9ybU5hbWVdID0gdmFsaWRhdG9yO1xyXG4gICAgdmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuICB9KTtcclxufTtcclxuY29uc3QgcmVzZXRBbmRPcGVuSW1nQWRkRm9ybSA9ICgpID0+IHtcclxuICBmb3JtVmFsaWRhdG9yc1tmb3JtSW1nLmdldEF0dHJpYnV0ZShcIm5hbWVcIildLnJlc2V0VmFsaWRhdGlvbigpO1xyXG4gIGFkZENhcmRGb3JtLm9wZW4oKTtcclxufTtcclxuY29uc3QgaGFuZGxlUHJvZmlsZUZvcm1JbnB1dHMgPSAoZGF0YSkgPT4ge1xyXG4gIHByb2ZpbGVGb3JtLnNldElucHV0VmFsdWVzKGRhdGEpO1xyXG59O1xyXG5cclxuY29uc3QgcmVzZXRBbmRPcGVuUHJvZmlsZUZvcm0gPSAoKSA9PiB7XHJcbiAgZm9ybVZhbGlkYXRvcnNbZm9ybVByb2ZpbGUuZ2V0QXR0cmlidXRlKFwibmFtZVwiKV0ucmVzZXRWYWxpZGF0aW9uKCk7XHJcbiAgY29uc3QgcHJvZmlsZURhdGEgPSB1c2VySW5mby5nZXRVc2VySW5mbygpO1xyXG4gIGhhbmRsZVByb2ZpbGVGb3JtSW5wdXRzKHByb2ZpbGVEYXRhKTtcclxuICBwcm9maWxlRm9ybS5vcGVuKCk7XHJcbn07XHJcblxyXG5jb25zdCBjcmVhdGVDYXJkID0gKGRhdGEpID0+IHtcclxuICBjb25zdCBjYXJkID0gbmV3IENhcmQoZGF0YSwgdGVtcGxhdGVTZWxlY3RvciwgKHRpdGxlLCBsaW5rKSA9PiB7XHJcbiAgICBwb3B1cFdpdGhJbWFnZS5vcGVuKHRpdGxlLCBsaW5rKTtcclxuICB9KTtcclxuICByZXR1cm4gY2FyZC5jcmVhdGVDYXJkKCk7XHJcbn07XHJcbmNvbnN0IHJlbmRlckNhcmQgPSAoZGF0YSkgPT4ge1xyXG4gIGNvbnN0IGNhcmQgPSBjcmVhdGVDYXJkKGRhdGEpO1xyXG4gIHNlY3Rpb24uYWRkSXRlbShjYXJkKTtcclxufTtcclxuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5cclxuLy9jbGFzc2VzLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbmNvbnN0IHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKHNwYW5BcnJheSk7XHJcblxyXG5jb25zdCBwb3B1cFdpdGhJbWFnZSA9IG5ldyBQb3B1cFdpdGhJbWFnZShvcGVuSW1nVmlldyk7XHJcbnBvcHVwV2l0aEltYWdlLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5jb25zdCBwcm9maWxlRm9ybSA9IG5ldyBQb3B1cFdpdGhGb3JtKHByb2ZpbGVQb3B1cCwgc3VibWl0ZVByb2ZpbGVGb3JtSW5wdXRzKTtcclxucHJvZmlsZUZvcm0uc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbmNvbnN0IGFkZENhcmRGb3JtID0gbmV3IFBvcHVwV2l0aEZvcm0oYWRkQ2FyZFBvcHVwLCAoZGF0YSkgPT4ge1xyXG4gIHJlbmRlckNhcmQoXHJcbiAgICB7XHJcbiAgICAgIHRpdGxlOiBkYXRhLnRpdGxlLFxyXG4gICAgICBsaW5rOiBkYXRhLmxpbmssXHJcbiAgICB9LFxyXG4gICAgZ2FsbGVyeVdyYXBcclxuICApO1xyXG4gIGFkZENhcmRGb3JtLmNsb3NlKCk7XHJcbn0pO1xyXG5hZGRDYXJkRm9ybS5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuY29uc3Qgc2VjdGlvbiA9IG5ldyBTZWN0aW9uKHJlbmRlckNhcmQsIGdhbGxlcnlXcmFwKTtcclxuXHJcbmZldGNoKFwiXCIpLnRoZW4oKHJlcykgPT4ge1xyXG4gIHNlY3Rpb24ucmVuZGVySXRlbXMocmVzKTtcclxuICBjb25zb2xlLmxvZyhcImhpeGNzZGNzXCIpO1xyXG59KTtcclxuXHJcbi8vbGlzdGVuZXJzLy8vLy8vLy8vL1xyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbm9wZW5JbWdBZGRQb3B1cC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gcmVzZXRBbmRPcGVuSW1nQWRkRm9ybSgpKTtcclxuXHJcbm9wZW5Qcm9maWxlRWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIHJlc2V0QW5kT3BlblByb2ZpbGVGb3JtKCk7XHJcbn0pO1xyXG4iLCJleHBvcnQgY2xhc3MgVXNlckluZm8ge1xyXG4gIGNvbnN0cnVjdG9yKHsgbmFtZVNlbGVjdG9yLCBvY2N1cGF0aW9uU2VsZWN0b3IgfSkge1xyXG4gICAgdGhpcy5fdXNlck5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG5hbWVTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl91c2VyT2NjdXBhdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Iob2NjdXBhdGlvblNlbGVjdG9yKTtcclxuICB9XHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBuYW1lOiB0aGlzLl91c2VyTmFtZS50ZXh0Q29udGVudCxcclxuICAgICAgb2NjdXBhdGlvbjogdGhpcy5fdXNlck9jY3VwYXRpb24udGV4dENvbnRlbnQsXHJcbiAgICB9O1xyXG4gIH1cclxuICBzZXRVc2VySW5mbyhkYXRhKSB7XHJcbiAgICAodGhpcy5fdXNlck5hbWUudGV4dENvbnRlbnQgPSBkYXRhLm5hbWUpLFxyXG4gICAgICAodGhpcy5fdXNlck9jY3VwYXRpb24udGV4dENvbnRlbnQgPSBkYXRhLm9jY3VwYXRpb24pO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBQb3B1cCB9IGZyb20gXCIuL1BvcHVwXCI7XHJcbmV4cG9ydCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcclxuICBvcGVuKHRpdGxlLCBsaW5rKSB7XHJcbiAgICB0aGlzLl9pbWFnZSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2ltZ1wiKTtcclxuICAgIHRoaXMuX2NhcHRpb24gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19jYXB0aW9uXCIpO1xyXG5cclxuICAgICh0aGlzLl9jYXB0aW9uLnRleHRDb250ZW50ID0gdGl0bGUpLFxyXG4gICAgICAodGhpcy5faW1hZ2Uuc3JjID0gbGluayksXHJcbiAgICAgICh0aGlzLl9pbWFnZS5hbHQgPSBgUGhvdG8gb2YgJHt0aXRsZX1gKTtcclxuICAgIHN1cGVyLm9wZW4oKTtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGNsYXNzIFNlY3Rpb24ge1xyXG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyLCBjb250YWluZXJTZWxlY3Rvcikge1xyXG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xyXG4gIH1cclxuICByZW5kZXJJdGVtcyhpdGVtcykge1xyXG4gICAgaXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICB0aGlzLmFkZEl0ZW0oaXRlbSwgdGhpcy5fcmVuZGVyZXIoaXRlbSkpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG4gIGFkZEl0ZW0oKSB7fVxyXG59XHJcbiJdLCJuYW1lcyI6WyJDYXJkIiwiY29uc3RydWN0b3IiLCJkYXRhIiwic2VsZWN0b3IiLCJoYW5kbGVDYXJkQ2xpY2siLCJ0aGlzIiwiX2NhcmRFbGVtZW50IiwicmVtb3ZlIiwiZXZ0IiwidGFyZ2V0IiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwiX3RpdGxlIiwidGl0bGUiLCJfbGluayIsImxpbmsiLCJfYWx0IiwiX3RlbXBsYXRlRWxlbWVudCIsIl9oYW5kbGVDYXJkQ2xpY2siLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJfZGVsZXRlQ2FyZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJfcmVtb3ZlQ2FyZCIsIl9saWtlQ2FyZCIsIl90b2dnbGVIZWFydCIsIl9nYWxsZXJ5SW1nIiwiY3JlYXRlQ2FyZCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJfZ2FsbGVyeVRleHQiLCJzcmMiLCJ0ZXh0Q29udGVudCIsImFsdCIsIkZvcm1WYWxpZGF0b3IiLCJzZXR0aW5ncyIsImZvcm1FbGVtZW50IiwiX2hpZGVBbGxFcnJvcnMiLCJfZm9ybUVsZW1lbnQiLCJyZXNldCIsIl9kaXNhYmxlQnV0dG9uIiwicHJldmVudERlZmF1bHQiLCJfYWxsSW5wdXRzIiwiZm9yRWFjaCIsImlucHV0RWwiLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwiX3RvZ2dsZUJ1dHRvbiIsImlucHV0IiwiX2hpZGVJbnB1dEVycm9yIiwiYnV0dG9uRGlzYWJsZSIsIl9zZXR0aW5ncyIsIl9idXR0b25FbCIsImFkZCIsImRpc2FibGVkIiwiZXJyb3JNZXNzYWdlIiwiaW5wdXRFcnJvckNsYXNzIiwic3BhbkVycm9yQ2xhc3MiLCJfZXJyb3JEeW5hbWljU3BhbiIsImlkIiwiaW5wdXRzIiwiZXZlcnkiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX3Nob3dJbnB1dEVycm9yIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiaW5wdXRTZWxlY3RvciIsImJ1dHRvblNlbGVjdG9yIiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwiY29udGFpbnMiLCJjbG9zZSIsImtleSIsIl9wb3B1cCIsIm9wZW4iLCJfaGFuZGxlRXNjQ2xvc2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJfaGFuZGxlT3ZlcmxheSIsIlBvcHVwV2l0aEZvcm0iLCJoYW5kbGVGb3JtIiwic3VwZXIiLCJfaGFuZGxlRm9ybSIsIl9mb3JtIiwiX2lucHV0cyIsIl9nZXRJbnB1dFZhbHVlcyIsIl92YWx1ZXMiLCJfa2V5IiwibmFtZSIsIl92YWx1ZSIsInZhbHVlIiwiX3ZhbHVlc0Zyb21Gb3JtIiwic2V0SW5wdXRWYWx1ZXMiLCJvcGVuUHJvZmlsZUVkaXRCdXR0b24iLCJmb3JtcyIsImZvcm1Qcm9maWxlIiwiZWxlbWVudHMiLCJvY2N1cGF0aW9uIiwib3BlbkltZ0FkZFBvcHVwIiwiY29uc29sZSIsImxvZyIsImFwaSIsIm9wdGlvbnMiLCJfYmFzZVVybCIsImJhc2VVcmwiLCJfaGVhZGVycyIsImhlYWRlcnMiLCJfdG9rZW4iLCJ0b2tlbiIsImdldFVzZXJJbmZvIiwiZmV0Y2giLCJ0aGVuIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1c1RleHQiLCJjYXRjaCIsImUiLCJnZXRDYXJkc0luZm8iLCJhdXRob3JpemF0aW9uIiwiYWRkQ2FyZCIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiZWRpdFByb2ZpbGUiLCJhYm91dCIsImZvcm1WYWxpZGF0b3JzIiwiZm9ybUltZyIsInJlbmRlckNhcmQiLCJjYXJkIiwicG9wdXBXaXRoSW1hZ2UiLCJzZWN0aW9uIiwiYWRkSXRlbSIsImZvcm1FbCIsInZhbGlkYXRvciIsImZvcm1OYW1lIiwiZ2V0QXR0cmlidXRlIiwiZW5hYmxlVmFsaWRhdGlvbiIsInVzZXJJbmZvIiwibmFtZVNlbGVjdG9yIiwib2NjdXBhdGlvblNlbGVjdG9yIiwiX3VzZXJOYW1lIiwiX3VzZXJPY2N1cGF0aW9uIiwic2V0VXNlckluZm8iLCJfaW1hZ2UiLCJfY2FwdGlvbiIsInByb2ZpbGVGb3JtIiwiYWRkQ2FyZEZvcm0iLCJyZW5kZXJlciIsImNvbnRhaW5lclNlbGVjdG9yIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsInJlbmRlckl0ZW1zIiwiaXRlbXMiLCJpdGVtIiwicmVzZXRWYWxpZGF0aW9uIl0sInNvdXJjZVJvb3QiOiIifQ==