!function(){"use strict";function t(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}class e{constructor(e,s,i){t(this,"_removeCard",(()=>this._cardElement.remove())),t(this,"_toggleHeart",(t=>{t.target.classList.toggle("button_liked")})),this._title=e.title,this._link=e.link,this._alt="Photo of ".concat(e.title),this._templateElement=s,this._handleCardClick=i}_setEventListeners(){this._deleteCard.addEventListener("click",(()=>this._removeCard())),this._likeCard.addEventListener("click",(t=>this._toggleHeart(t))),this._galleryImg.addEventListener("click",(()=>this._handleCardClick(this._title,this._link)))}createCard(){return this._cardElement=document.querySelector(this._templateElement).content.querySelector(".gallery__item").cloneNode(!0),this._galleryImg=this._cardElement.querySelector(".gallery__img"),this._galleryText=this._cardElement.querySelector(".desc__text"),this._deleteCard=this._cardElement.querySelector(".gallery__bin"),this._likeCard=this._cardElement.querySelector(".desc__heart"),this._galleryImg.src=this._link,this._galleryText.textContent=this._title,this._galleryImg.alt=this._alt,this._setEventListeners(),this._cardElement}}function s(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}class i{constructor(t,e){s(this,"resetValidation",(()=>{this._hideAllErrors(),this._formElement.reset(),this._disableButton()})),s(this,"enableValidation",(()=>{this._formElement.addEventListener("submit",(t=>t.preventDefault())),this._setEventListeners()})),s(this,"_setEventListeners",(()=>{this._allInputs.forEach((t=>{t.addEventListener("input",(()=>{this._checkInputValidity(t),this._toggleButton(this._allInputs)}))}))})),s(this,"_hideAllErrors",(()=>{this._allInputs.forEach((t=>{this._hideInputError(t)}))})),s(this,"_disableButton",(()=>{const{buttonDisable:t}=this._settings;this._buttonEl.classList.add(t),this._buttonEl.disabled=!0})),s(this,"_showInputError",((t,e)=>{const{inputErrorClass:s,spanErrorClass:i}=this._settings;this._errorDynamicSpan=this._formElement.querySelector(".fieldset__error-type-".concat(t.id)),t.classList.add(s),this._errorDynamicSpan.textContent=e,this._errorDynamicSpan.classList.add(i)})),s(this,"_hideInputError",(t=>{const{inputErrorClass:e,spanErrorClass:s}=this._settings;this._errorDynamicSpan=this._formElement.querySelector(".fieldset__error-type-".concat(t.id)),t.classList.remove(e),this._errorDynamicSpan.classList.remove(s),this._errorDynamicSpan.textContent=""})),s(this,"_toggleButton",(t=>{const{buttonDisable:e}=this._settings;t.every((t=>t.validity.valid))?(this._buttonEl.classList.remove(e),this._buttonEl.disabled=!1):this._disableButton()})),s(this,"_checkInputValidity",(t=>{t.validity.valid?this._hideInputError(t):this._showInputError(t,t.validationMessage)})),this._settings=t,this._formElement=e,this._allInputs=Array.from(this._formElement.querySelectorAll(this._settings.inputSelector)),this._buttonEl=this._formElement.querySelector(this._settings.buttonSelector)}}function r(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}class o{constructor(t){r(this,"_handleOverlay",(t=>{t.target.classList.contains("popup")&&this.close()})),r(this,"_handleEscClose",(t=>{"Escape"===t.key&&this.close()})),this._popup=document.querySelector(t)}open(){this._popup.classList.add("popup_open"),document.addEventListener("keydown",this._handleEscClose)}close(){this._popup.classList.remove("popup_open"),document.removeEventListener("keydown",this._handleEscClose)}setEventListeners(){this._popup.addEventListener("mousedown",this._handleOverlay),this._popup.querySelector(".popup__close").addEventListener("mousedown",(()=>this.close()))}}class n extends o{constructor(t,e){super(t),this._handleForm=e,this._form=this._popup.querySelector(".form"),this._inputs=Array.from(this._form.querySelectorAll(".fieldset__input"))}_getInputValues(){return this._values={},this._inputs.forEach((t=>{this._key=t.name,this._value=t.value,this._values[this._key]=this._value})),this._values}setEventListeners(){super.setEventListeners(),this._form.addEventListener("submit",(t=>{t.preventDefault(),this._valuesFromForm=this._getInputValues(),this._handleForm(this._valuesFromForm),super.close()}))}setInputValues(t){this._inputs.forEach((e=>{e.value=t[e.name]}))}close(){super.close(),this._form.reset()}}const a=(document.forms.formProfile.elements.name,document.forms.formProfile.elements.occupation,document.querySelector(".text__edit")),l=document.querySelector(".top__plus-box"),c={inputSelector:".fieldset__input",buttonSelector:".fieldset__button",buttonDisable:"fieldset__button_disabled",inputErrorClass:"fieldset__input_error",spanErrorClass:"fieldset__error-message-active"},h=[{title:"Kenai Fjords interational Park",link:"https://images.unsplash.com/photo-1633967920376-33b2d94f091f?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=870&q=80"},{title:"Yellowlinkne National Park",link:"https://images.unsplash.com/photo-1607550295261-851fa60d8ed2?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=871&q=80"},{title:"Niagara Falls",link:"https://images.unsplash.com/photo-1598402453861-4fbcbf6ced3b?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1974&q=80"},{title:"Zion National Park",link:"https://images.unsplash.com/photo-1502746663084-14b59b6924f2?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=870&q=80"},{title:"Kauai islands",link:"https://images.unsplash.com/photo-1638401604765-47daaa5a6c34?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=781&q=80"},{title:"Grand Canyon",link:"https://images.unsplash.com/photo-1509316785289-025f5b846b35?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=876&q=80"}],u=new class{constructor(t){this._baseUrl=t.baseUrl,this._headers=t.headers}getUserInfo(){return fetch(this._baseUrl+"/users/me",{headers:this._headers}).then((t=>t.ok?t.json():Promise.reject(t.statusText)))}getCardsInfo(){return fetch(this._baseUrl+"/cards",{headers:this._headers}).then((t=>t.ok?t.json():Promise.reject(t.statusText)))}}({baseUrl:"https://around.nomoreparties.co/v1/cohort-3-en",headers:{authorization:"6efb715f-3f27-47aa-b11b-00d476bb80a2","Content-Type":"application/json"}});u.getUserInfo().then((t=>{t.ok&&console.log("res =>",t)})).catch(console.log),u.getCardsInfo().then((t=>{t.ok&&console.log("res =>",t)})).catch(console.log),h.reverse();const _={formImg:"formImg",formProfile:"formProfile"},d=(t,s)=>{const i=(t=>new e(t,"#gallery__item",((t,e)=>{m.open(t,e)})).createCard())(t);y.addItem(i)};Array.from(document.querySelectorAll(".form")).forEach((t=>{const e=new i(c,t),s=t.getAttribute("name");_[s]=e,e.enableValidation()}));const p=new class{constructor(t){let{nameSelector:e,occupationSelector:s}=t;this._userName=document.querySelector(e),this._userOccupation=document.querySelector(s)}getUserInfo(){return{name:this._userName.textContent,occupation:this._userOccupation.textContent}}setUserInfo(t){this._userName.textContent=t.name,this._userOccupation.textContent=t.occupation}}({nameSelector:".text__name",occupationSelector:".text__occupation"}),m=new class extends o{open(t,e){this._image=this._popup.querySelector(".popup__img"),this._caption=this._popup.querySelector(".popup__caption"),this._caption.textContent=t,this._image.src=e,this._image.alt="Photo of ".concat(t),super.open()}}(".popup_type_zoom");m.setEventListeners();const f=new n(".popup_type_profile",(t=>{p.setUserInfo(t)}));f.setEventListeners();const b=new n(".popup_type_card",(t=>{d({title:t.title,link:t.link}),b.close()}));b.setEventListeners();const y=new class{constructor(t,e){let{items:s,renderer:i}=t;this._items=s,this._renderer=i,this._container=document.querySelector(e)}renderItems(){this._items.forEach((t=>{this._renderer(t,this._container)}))}addItem(t){this._container.prepend(t)}}({items:h,renderer:d},".gallery");y.renderItems(),l.addEventListener("click",(()=>(_[formImg.getAttribute("name")].resetValidation(),void b.open()))),a.addEventListener("click",(()=>{var t;_[formProfile.getAttribute("name")].resetValidation(),t=p.getUserInfo(),f.setInputValues(t),f.open()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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WWpFLG9CQUVaLE1BQU1rRSxFQUFjLElBQUloRSxFRjdGSCxvQkU2RmdDaEYsSUFDbkQ0SCxFQUNFLENBQ0VqSCxNQUFPWCxFQUFLVyxNQUNaRSxLQUFNYixFQUFLYSxPQUlmbUksRUFBWXhFLE9BQVosSUFFRndFLEVBQVlsRSxvQkFFWixNQUFNa0QsRUFBVSxJRzFHVCxNQUNMakksWUFBWSxFQUFxQmtKLEdBQW1CLElBQXhDLE1BQUVDLEVBQUYsU0FBU0MsR0FBK0IsRUFDbERoSixLQUFLaUosT0FBU0YsRUFDZC9JLEtBQUtrSixVQUFZRixFQUNqQmhKLEtBQUttSixXQUFhN0gsU0FBU0MsY0FBY3VILEVBQzFDLENBQ0RNLGNBQ0VwSixLQUFLaUosT0FBTzFHLFNBQVM4RyxJQUNuQnJKLEtBQUtrSixVQUFVRyxFQUFNckosS0FBS21KLFdBQTFCLEdBRUgsQ0FDRHJCLFFBQVF3QixHQUNOdEosS0FBS21KLFdBQVdJLFFBQVFELEVBQ3pCLEdIOEZELENBQUVQLE1BQU85QyxFQUFnQitDLFNBQVV2QixHRjNHakIsWUU4R3BCSSxFQUFRdUIsY0FJUnBELEVBQWdCaEYsaUJBQWlCLFNBQVMsS0F4RHhDdUcsRUFBZUMsUUFBUVUsYUFBYSxTQUFTc0IsdUJBQzdDWCxFQUFZckUsVUF5RGRtQixFQUFzQjNFLGlCQUFpQixTQUFTLEtBbkRoQixJQUpDbkIsRUFLL0IwSCxFQUFlMUIsWUFBWXFDLGFBQWEsU0FBU3NCLGtCQUxsQjNKLEVBTVh1SSxFQUFTNUIsY0FMN0JvQyxFQUFZbEQsZUFBZTdGLEdBTzNCK0ksRUFBWXBFLE1BZ0RhLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy91dGlsaXRpZXMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9BcGkuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9wYWdlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlxyXG5leHBvcnQgY2xhc3MgQ2FyZCB7XHJcbiAgY29uc3RydWN0b3IoZGF0YSwgc2VsZWN0b3IsIGhhbmRsZUNhcmRDbGljaykge1xyXG4gICAgKHRoaXMuX3RpdGxlID0gZGF0YS50aXRsZSksXHJcbiAgICAgICh0aGlzLl9saW5rID0gZGF0YS5saW5rKSxcclxuICAgICAgKHRoaXMuX2FsdCA9IGBQaG90byBvZiAke2RhdGEudGl0bGV9YCk7XHJcbiAgICB0aGlzLl90ZW1wbGF0ZUVsZW1lbnQgPSBzZWxlY3RvcjtcclxuICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayA9IGhhbmRsZUNhcmRDbGljaztcclxuICB9XHJcbiAgX3JlbW92ZUNhcmQgPSAoKSA9PiB0aGlzLl9jYXJkRWxlbWVudC5yZW1vdmUoKTtcclxuICBfdG9nZ2xlSGVhcnQgPSAoZXZ0KSA9PiB7XHJcbiAgICBldnQudGFyZ2V0LmNsYXNzTGlzdC50b2dnbGUoXCJidXR0b25fbGlrZWRcIik7XHJcbiAgfTtcclxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9kZWxldGVDYXJkLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB0aGlzLl9yZW1vdmVDYXJkKCkpO1xyXG4gICAgdGhpcy5fbGlrZUNhcmQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldnQpID0+IHRoaXMuX3RvZ2dsZUhlYXJ0KGV2dCkpO1xyXG4gICAgdGhpcy5fZ2FsbGVyeUltZy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT5cclxuICAgICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrKHRoaXMuX3RpdGxlLCB0aGlzLl9saW5rKVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIGNyZWF0ZUNhcmQoKSB7XHJcbiAgICB0aGlzLl9jYXJkRWxlbWVudCA9IGRvY3VtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX3RlbXBsYXRlRWxlbWVudClcclxuICAgICAgLmNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5nYWxsZXJ5X19pdGVtXCIpXHJcbiAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XHJcblxyXG4gICAgdGhpcy5fZ2FsbGVyeUltZyA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZ2FsbGVyeV9faW1nXCIpO1xyXG4gICAgdGhpcy5fZ2FsbGVyeVRleHQgPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmRlc2NfX3RleHRcIik7XHJcbiAgICB0aGlzLl9kZWxldGVDYXJkID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5nYWxsZXJ5X19iaW5cIik7XHJcbiAgICB0aGlzLl9saWtlQ2FyZCA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZGVzY19faGVhcnRcIik7XHJcblxyXG4gICAgdGhpcy5fZ2FsbGVyeUltZy5zcmMgPSB0aGlzLl9saW5rO1xyXG4gICAgdGhpcy5fZ2FsbGVyeVRleHQudGV4dENvbnRlbnQgPSB0aGlzLl90aXRsZTtcclxuICAgIHRoaXMuX2dhbGxlcnlJbWcuYWx0ID0gdGhpcy5fYWx0O1xyXG5cclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICByZXR1cm4gdGhpcy5fY2FyZEVsZW1lbnQ7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcclxuICBjb25zdHJ1Y3RvcihzZXR0aW5ncywgZm9ybUVsZW1lbnQpIHtcclxuICAgIHRoaXMuX3NldHRpbmdzID0gc2V0dGluZ3M7XHJcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGZvcm1FbGVtZW50O1xyXG4gICAgdGhpcy5fYWxsSW5wdXRzID0gQXJyYXkuZnJvbShcclxuICAgICAgdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9zZXR0aW5ncy5pbnB1dFNlbGVjdG9yKVxyXG4gICAgKTtcclxuICAgIHRoaXMuX2J1dHRvbkVsID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgdGhpcy5fc2V0dGluZ3MuYnV0dG9uU2VsZWN0b3JcclxuICAgICk7XHJcbiAgfVxyXG4gIHJlc2V0VmFsaWRhdGlvbiA9ICgpID0+IHtcclxuICAgIHRoaXMuX2hpZGVBbGxFcnJvcnMoKTtcclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50LnJlc2V0KCk7XHJcbiAgICB0aGlzLl9kaXNhYmxlQnV0dG9uKCk7XHJcbiAgfTtcclxuICBlbmFibGVWYWxpZGF0aW9uID0gKCkgPT4ge1xyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiBldnQucHJldmVudERlZmF1bHQoKSk7XHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gIH07XHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzID0gKCkgPT4ge1xyXG4gICAgdGhpcy5fYWxsSW5wdXRzLmZvckVhY2goKGlucHV0RWwpID0+IHtcclxuICAgICAgaW5wdXRFbC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsKTtcclxuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b24odGhpcy5fYWxsSW5wdXRzKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9O1xyXG4gIF9oaWRlQWxsRXJyb3JzID0gKCkgPT4ge1xyXG4gICAgdGhpcy5fYWxsSW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0KTtcclxuICAgIH0pO1xyXG4gIH07XHJcbiAgX2Rpc2FibGVCdXR0b24gPSAoKSA9PiB7XHJcbiAgICBjb25zdCB7IGJ1dHRvbkRpc2FibGUgfSA9IHRoaXMuX3NldHRpbmdzO1xyXG4gICAgdGhpcy5fYnV0dG9uRWwuY2xhc3NMaXN0LmFkZChidXR0b25EaXNhYmxlKTtcclxuICAgIHRoaXMuX2J1dHRvbkVsLmRpc2FibGVkID0gdHJ1ZTtcclxuICB9O1xyXG4gIF9zaG93SW5wdXRFcnJvciA9IChpbnB1dEVsLCBlcnJvck1lc3NhZ2UpID0+IHtcclxuICAgIGNvbnN0IHsgaW5wdXRFcnJvckNsYXNzLCBzcGFuRXJyb3JDbGFzcyB9ID0gdGhpcy5fc2V0dGluZ3M7XHJcbiAgICB0aGlzLl9lcnJvckR5bmFtaWNTcGFuID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgYC5maWVsZHNldF9fZXJyb3ItdHlwZS0ke2lucHV0RWwuaWR9YFxyXG4gICAgKTtcclxuICAgIGlucHV0RWwuY2xhc3NMaXN0LmFkZChpbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgdGhpcy5fZXJyb3JEeW5hbWljU3Bhbi50ZXh0Q29udGVudCA9IGVycm9yTWVzc2FnZTtcclxuICAgIHRoaXMuX2Vycm9yRHluYW1pY1NwYW4uY2xhc3NMaXN0LmFkZChzcGFuRXJyb3JDbGFzcyk7XHJcbiAgfTtcclxuICBfaGlkZUlucHV0RXJyb3IgPSAoaW5wdXRFbCkgPT4ge1xyXG4gICAgY29uc3QgeyBpbnB1dEVycm9yQ2xhc3MsIHNwYW5FcnJvckNsYXNzIH0gPSB0aGlzLl9zZXR0aW5ncztcclxuICAgIHRoaXMuX2Vycm9yRHluYW1pY1NwYW4gPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBgLmZpZWxkc2V0X19lcnJvci10eXBlLSR7aW5wdXRFbC5pZH1gXHJcbiAgICApO1xyXG4gICAgaW5wdXRFbC5jbGFzc0xpc3QucmVtb3ZlKGlucHV0RXJyb3JDbGFzcyk7XHJcbiAgICB0aGlzLl9lcnJvckR5bmFtaWNTcGFuLmNsYXNzTGlzdC5yZW1vdmUoc3BhbkVycm9yQ2xhc3MpO1xyXG4gICAgdGhpcy5fZXJyb3JEeW5hbWljU3Bhbi50ZXh0Q29udGVudCA9IFwiXCI7XHJcbiAgfTtcclxuICBfdG9nZ2xlQnV0dG9uID0gKGlucHV0cykgPT4ge1xyXG4gICAgY29uc3QgeyBidXR0b25EaXNhYmxlIH0gPSB0aGlzLl9zZXR0aW5ncztcclxuICAgIGNvbnN0IGlzSW5wdXRzVmFsaWQgPSBpbnB1dHMuZXZlcnkoKGlucHV0KSA9PiBpbnB1dC52YWxpZGl0eS52YWxpZCk7XHJcblxyXG4gICAgaWYgKGlzSW5wdXRzVmFsaWQpIHtcclxuICAgICAgdGhpcy5fYnV0dG9uRWwuY2xhc3NMaXN0LnJlbW92ZShidXR0b25EaXNhYmxlKTtcclxuICAgICAgdGhpcy5fYnV0dG9uRWwuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2Rpc2FibGVCdXR0b24oKTtcclxuICAgIH1cclxuICB9O1xyXG4gIF9jaGVja0lucHV0VmFsaWRpdHkgPSAoaW5wdXRFbCkgPT4ge1xyXG4gICAgaWYgKCFpbnB1dEVsLnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0RWwsIGlucHV0RWwudmFsaWRhdGlvbk1lc3NhZ2UpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbCk7XHJcbiAgICB9XHJcbiAgfTtcclxufVxyXG4iLCJleHBvcnQgY2xhc3MgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX3BvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcclxuICB9XHJcbiAgX2hhbmRsZU92ZXJsYXkgPSAoZXZ0KSA9PiB7XHJcbiAgICBpZiAoZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJwb3B1cFwiKSkge1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgX2hhbmRsZUVzY0Nsb3NlID0gKGV2dCkgPT4ge1xyXG4gICAgaWYgKGV2dC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfVxyXG4gIH07XHJcbiAgb3BlbigpIHtcclxuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5hZGQoXCJwb3B1cF9vcGVuXCIpO1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gIH1cclxuICBjbG9zZSgpIHtcclxuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5yZW1vdmUoXCJwb3B1cF9vcGVuXCIpO1xyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gIH1cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX3BvcHVwLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgdGhpcy5faGFuZGxlT3ZlcmxheSk7XHJcbiAgICB0aGlzLl9wb3B1cFxyXG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fY2xvc2VcIilcclxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgKCkgPT4gdGhpcy5jbG9zZSgpKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgUG9wdXAgfSBmcm9tIFwiLi9Qb3B1cFwiO1xyXG5leHBvcnQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBoYW5kbGVGb3JtKSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2hhbmRsZUZvcm0gPSBoYW5kbGVGb3JtO1xyXG4gICAgdGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybVwiKTtcclxuICAgIHRoaXMuX2lucHV0cyA9IEFycmF5LmZyb20odGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKFwiLmZpZWxkc2V0X19pbnB1dFwiKSk7XHJcbiAgfVxyXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcclxuICAgIHRoaXMuX3ZhbHVlcyA9IHt9O1xyXG5cclxuICAgIHRoaXMuX2lucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG4gICAgICB0aGlzLl9rZXkgPSBpbnB1dC5uYW1lO1xyXG4gICAgICB0aGlzLl92YWx1ZSA9IGlucHV0LnZhbHVlO1xyXG4gICAgICB0aGlzLl92YWx1ZXNbdGhpcy5fa2V5XSA9IHRoaXMuX3ZhbHVlO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gdGhpcy5fdmFsdWVzO1xyXG4gIH1cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xyXG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgdGhpcy5fdmFsdWVzRnJvbUZvcm0gPSB0aGlzLl9nZXRJbnB1dFZhbHVlcygpO1xyXG4gICAgICB0aGlzLl9oYW5kbGVGb3JtKHRoaXMuX3ZhbHVlc0Zyb21Gb3JtKTtcclxuICAgICAgc3VwZXIuY2xvc2UoKTtcclxuICAgIH0pO1xyXG4gIH1cclxuICBzZXRJbnB1dFZhbHVlcyhkYXRhKSB7XHJcbiAgICB0aGlzLl9pbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgaW5wdXQudmFsdWUgPSBkYXRhW2lucHV0Lm5hbWVdO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBjbG9zZSgpIHtcclxuICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgICB0aGlzLl9mb3JtLnJlc2V0KCk7XHJcbiAgfVxyXG59XHJcbiIsImNvbnN0IGdhbGxlcnlXcmFwID0gXCIuZ2FsbGVyeVwiO1xyXG5jb25zdCBhZGRDYXJkUG9wdXAgPSBcIi5wb3B1cF90eXBlX2NhcmRcIjtcclxuY29uc3QgcHJvZmlsZVBvcHVwID0gXCIucG9wdXBfdHlwZV9wcm9maWxlXCI7XHJcbmNvbnN0IG9wZW5JbWdWaWV3ID0gXCIucG9wdXBfdHlwZV96b29tXCI7XHJcbmNvbnN0IG5hbWVJbnB1dCA9IGRvY3VtZW50LmZvcm1zLmZvcm1Qcm9maWxlLmVsZW1lbnRzLm5hbWU7XHJcbmNvbnN0IG9jY3VwYXRpb25JbnB1dCA9IGRvY3VtZW50LmZvcm1zLmZvcm1Qcm9maWxlLmVsZW1lbnRzLm9jY3VwYXRpb247XHJcbmNvbnN0IHRlbXBsYXRlU2VsZWN0b3IgPSBcIiNnYWxsZXJ5X19pdGVtXCI7XHJcbmNvbnN0IHNwYW5BcnJheSA9IHtcclxuICBuYW1lU2VsZWN0b3I6IFwiLnRleHRfX25hbWVcIixcclxuICBvY2N1cGF0aW9uU2VsZWN0b3I6IFwiLnRleHRfX29jY3VwYXRpb25cIixcclxufTtcclxuY29uc3Qgb3BlblByb2ZpbGVFZGl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50ZXh0X19lZGl0XCIpO1xyXG5jb25zdCBvcGVuSW1nQWRkUG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvcF9fcGx1cy1ib3hcIik7XHJcbi8vc2V0dGluZ3NcclxuY29uc3Qgc2V0dGluZ3MgPSB7XHJcbiAgaW5wdXRTZWxlY3RvcjogXCIuZmllbGRzZXRfX2lucHV0XCIsXHJcbiAgYnV0dG9uU2VsZWN0b3I6IFwiLmZpZWxkc2V0X19idXR0b25cIixcclxuICBidXR0b25EaXNhYmxlOiBcImZpZWxkc2V0X19idXR0b25fZGlzYWJsZWRcIixcclxuICBpbnB1dEVycm9yQ2xhc3M6IFwiZmllbGRzZXRfX2lucHV0X2Vycm9yXCIsXHJcbiAgc3BhbkVycm9yQ2xhc3M6IFwiZmllbGRzZXRfX2Vycm9yLW1lc3NhZ2UtYWN0aXZlXCIsXHJcbn07XHJcbmNvbnN0IGluaXRpYWxHYWxsZXJ5ID0gW1xyXG4gIHtcclxuICAgIHRpdGxlOiBcIktlbmFpIEZqb3JkcyBpbnRlcmF0aW9uYWwgUGFya1wiLFxyXG4gICAgbGluazogXCJodHRwczovL2ltYWdlcy51bnNwbGFzaC5jb20vcGhvdG8tMTYzMzk2NzkyMDM3Ni0zM2IyZDk0ZjA5MWY/aXhsaWI9cmItMS4yLjEmaXhpZD1Nbnd4TWpBM2ZEQjhNSHh3YUc5MGJ5MXdZV2RsZkh4OGZHVnVmREI4Zkh4OCZhdXRvPWZvcm1hdCZmaXQ9Y3JvcCZ3PTg3MCZxPTgwXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICB0aXRsZTogXCJZZWxsb3dsaW5rbmUgTmF0aW9uYWwgUGFya1wiLFxyXG4gICAgbGluazogXCJodHRwczovL2ltYWdlcy51bnNwbGFzaC5jb20vcGhvdG8tMTYwNzU1MDI5NTI2MS04NTFmYTYwZDhlZDI/aXhsaWI9cmItMS4yLjEmaXhpZD1Nbnd4TWpBM2ZEQjhNSHh3YUc5MGJ5MXdZV2RsZkh4OGZHVnVmREI4Zkh4OCZhdXRvPWZvcm1hdCZmaXQ9Y3JvcCZ3PTg3MSZxPTgwXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICB0aXRsZTogXCJOaWFnYXJhIEZhbGxzXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vaW1hZ2VzLnVuc3BsYXNoLmNvbS9waG90by0xNTk4NDAyNDUzODYxLTRmYmNiZjZjZWQzYj9peGxpYj1yYi0xLjIuMSZpeGlkPU1ud3hNakEzZkRCOE1IeHdhRzkwYnkxd1lXZGxmSHg4ZkdWdWZEQjhmSHg4JmF1dG89Zm9ybWF0JmZpdD1jcm9wJnc9MTk3NCZxPTgwXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICB0aXRsZTogXCJaaW9uIE5hdGlvbmFsIFBhcmtcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9pbWFnZXMudW5zcGxhc2guY29tL3Bob3RvLTE1MDI3NDY2NjMwODQtMTRiNTliNjkyNGYyP2l4bGliPXJiLTEuMi4xJml4aWQ9TW53eE1qQTNmREI4TUh4d2FHOTBieTF3WVdkbGZIeDhmR1Z1ZkRCOGZIeDgmYXV0bz1mb3JtYXQmZml0PWNyb3Amdz04NzAmcT04MFwiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgdGl0bGU6IFwiS2F1YWkgaXNsYW5kc1wiLFxyXG4gICAgbGluazogXCJodHRwczovL2ltYWdlcy51bnNwbGFzaC5jb20vcGhvdG8tMTYzODQwMTYwNDc2NS00N2RhYWE1YTZjMzQ/aXhsaWI9cmItMS4yLjEmaXhpZD1Nbnd4TWpBM2ZEQjhNSHh3YUc5MGJ5MXdZV2RsZkh4OGZHVnVmREI4Zkh4OCZhdXRvPWZvcm1hdCZmaXQ9Y3JvcCZ3PTc4MSZxPTgwXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICB0aXRsZTogXCJHcmFuZCBDYW55b25cIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9pbWFnZXMudW5zcGxhc2guY29tL3Bob3RvLTE1MDkzMTY3ODUyODktMDI1ZjViODQ2YjM1P2l4bGliPXJiLTEuMi4xJml4aWQ9TW53eE1qQTNmREI4TUh4d2FHOTBieTF3WVdkbGZIeDhmR1Z1ZkRCOGZIeDgmYXV0bz1mb3JtYXQmZml0PWNyb3Amdz04NzYmcT04MFwiLFxyXG4gIH0sXHJcbl07XHJcbmV4cG9ydCB7XHJcbiAgZ2FsbGVyeVdyYXAsXHJcbiAgYWRkQ2FyZFBvcHVwLFxyXG4gIHByb2ZpbGVQb3B1cCxcclxuICBvcGVuSW1nVmlldyxcclxuICBuYW1lSW5wdXQsXHJcbiAgb2NjdXBhdGlvbklucHV0LFxyXG4gIHRlbXBsYXRlU2VsZWN0b3IsXHJcbiAgc3BhbkFycmF5LFxyXG4gIG9wZW5Qcm9maWxlRWRpdEJ1dHRvbixcclxuICBvcGVuSW1nQWRkUG9wdXAsXHJcbiAgc2V0dGluZ3MsXHJcbiAgaW5pdGlhbEdhbGxlcnksXHJcbn07XHJcbiIsImNsYXNzIEFwaSB7XHJcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xyXG4gICAgdGhpcy5fYmFzZVVybCA9IG9wdGlvbnMuYmFzZVVybDtcclxuICAgIHRoaXMuX2hlYWRlcnMgPSBvcHRpb25zLmhlYWRlcnM7XHJcbiAgfVxyXG4gIGdldFVzZXJJbmZvKCkge1xyXG4gICAgcmV0dXJuIGZldGNoKHRoaXMuX2Jhc2VVcmwgKyBcIi91c2Vycy9tZVwiLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KS50aGVuKChyZXMpID0+IChyZXMub2sgPyByZXMuanNvbigpIDogUHJvbWlzZS5yZWplY3QocmVzLnN0YXR1c1RleHQpKSk7XHJcbiAgfVxyXG4gIGdldENhcmRzSW5mbygpIHtcclxuICAgIHJldHVybiBmZXRjaCh0aGlzLl9iYXNlVXJsICsgXCIvY2FyZHNcIiwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSkudGhlbigocmVzKSA9PiAocmVzLm9rID8gcmVzLmpzb24oKSA6IFByb21pc2UucmVqZWN0KHJlcy5zdGF0dXNUZXh0KSkpO1xyXG4gIH1cclxufVxyXG5leHBvcnQgY29uc3QgYXBpID0gbmV3IEFwaSh7XHJcbiAgYmFzZVVybDogXCJodHRwczovL2Fyb3VuZC5ub21vcmVwYXJ0aWVzLmNvL3YxL2NvaG9ydC0zLWVuXCIsXHJcbiAgaGVhZGVyczoge1xyXG4gICAgYXV0aG9yaXphdGlvbjogXCI2ZWZiNzE1Zi0zZjI3LTQ3YWEtYjExYi0wMGQ0NzZiYjgwYTJcIixcclxuICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gIH0sXHJcbn0pO1xyXG4iLCJpbXBvcnQgXCIuL2luZGV4LmNzc1wiO1xyXG5pbXBvcnQgeyBDYXJkIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZFwiO1xyXG5pbXBvcnQgeyBGb3JtVmFsaWRhdG9yIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvclwiO1xyXG5pbXBvcnQgeyBQb3B1cFdpdGhJbWFnZSB9IGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlXCI7XHJcbmltcG9ydCB7IFBvcHVwV2l0aEZvcm0gfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtXCI7XHJcbmltcG9ydCB7IFNlY3Rpb24gfSBmcm9tIFwiLi4vY29tcG9uZW50cy9TZWN0aW9uXCI7XHJcbmltcG9ydCB7IFVzZXJJbmZvIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm9cIjtcclxuaW1wb3J0IHtcclxuICBnYWxsZXJ5V3JhcCxcclxuICBhZGRDYXJkUG9wdXAsXHJcbiAgcHJvZmlsZVBvcHVwLFxyXG4gIG9wZW5JbWdWaWV3LFxyXG4gIG5hbWVJbnB1dCxcclxuICBvY2N1cGF0aW9uSW5wdXQsXHJcbiAgdGVtcGxhdGVTZWxlY3RvcixcclxuICBzcGFuQXJyYXksXHJcbiAgb3BlblByb2ZpbGVFZGl0QnV0dG9uLFxyXG4gIG9wZW5JbWdBZGRQb3B1cCxcclxuICBzZXR0aW5ncyxcclxuICBpbml0aWFsR2FsbGVyeSxcclxufSBmcm9tIFwiLi4vdXRpbGl0aWVzL2NvbnN0YW50c1wiO1xyXG5pbXBvcnQgeyBhcGkgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9BcGlcIjtcclxuXHJcbi8vZnVuY3Rpb25zLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5hcGlcclxuICAuZ2V0VXNlckluZm8oKVxyXG4gIC50aGVuKChyZXMpID0+IHtcclxuICAgIGlmIChyZXMub2spIHtcclxuICAgICAgY29uc29sZS5sb2coXCJyZXMgPT5cIiwgcmVzKTtcclxuICAgIH1cclxuICB9KVxyXG4gIC5jYXRjaChjb25zb2xlLmxvZyk7XHJcbmFwaVxyXG4gIC5nZXRDYXJkc0luZm8oKVxyXG4gIC50aGVuKChyZXMpID0+IHtcclxuICAgIGlmIChyZXMub2spIHtcclxuICAgICAgY29uc29sZS5sb2coXCJyZXMgPT5cIiwgcmVzKTtcclxuICAgIH1cclxuICB9KVxyXG4gIC5jYXRjaChjb25zb2xlLmxvZyk7XHJcbmluaXRpYWxHYWxsZXJ5LnJldmVyc2UoKTtcclxuXHJcbmNvbnN0IHN1Ym1pdGVQcm9maWxlRm9ybUlucHV0cyA9IChkYXRhKSA9PiB7XHJcbiAgdXNlckluZm8uc2V0VXNlckluZm8oZGF0YSk7XHJcbn07XHJcblxyXG5jb25zdCBmb3JtVmFsaWRhdG9ycyA9IHsgZm9ybUltZzogXCJmb3JtSW1nXCIsIGZvcm1Qcm9maWxlOiBcImZvcm1Qcm9maWxlXCIgfTtcclxuY29uc3QgZW5hYmxlVmFsaWRhdGlvbiA9ICgpID0+IHtcclxuICBjb25zdCBmb3JtTGlzdCA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5mb3JtXCIpKTtcclxuICBmb3JtTGlzdC5mb3JFYWNoKChmb3JtRWwpID0+IHtcclxuICAgIGNvbnN0IHZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKHNldHRpbmdzLCBmb3JtRWwpO1xyXG4gICAgY29uc3QgZm9ybU5hbWUgPSBmb3JtRWwuZ2V0QXR0cmlidXRlKFwibmFtZVwiKTtcclxuICAgIGZvcm1WYWxpZGF0b3JzW2Zvcm1OYW1lXSA9IHZhbGlkYXRvcjtcclxuICAgIHZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbiAgfSk7XHJcbn07XHJcbmNvbnN0IHJlc2V0QW5kT3BlbkltZ0FkZEZvcm0gPSAoKSA9PiB7XHJcbiAgZm9ybVZhbGlkYXRvcnNbZm9ybUltZy5nZXRBdHRyaWJ1dGUoXCJuYW1lXCIpXS5yZXNldFZhbGlkYXRpb24oKTtcclxuICBhZGRDYXJkRm9ybS5vcGVuKCk7XHJcbn07XHJcbmNvbnN0IGhhbmRsZVByb2ZpbGVGb3JtSW5wdXRzID0gKGRhdGEpID0+IHtcclxuICBwcm9maWxlRm9ybS5zZXRJbnB1dFZhbHVlcyhkYXRhKTtcclxufTtcclxuXHJcbmNvbnN0IHJlc2V0QW5kT3BlblByb2ZpbGVGb3JtID0gKCkgPT4ge1xyXG4gIGZvcm1WYWxpZGF0b3JzW2Zvcm1Qcm9maWxlLmdldEF0dHJpYnV0ZShcIm5hbWVcIildLnJlc2V0VmFsaWRhdGlvbigpO1xyXG4gIGNvbnN0IHByb2ZpbGVEYXRhID0gdXNlckluZm8uZ2V0VXNlckluZm8oKTtcclxuICBoYW5kbGVQcm9maWxlRm9ybUlucHV0cyhwcm9maWxlRGF0YSk7XHJcbiAgcHJvZmlsZUZvcm0ub3BlbigpO1xyXG59O1xyXG5cclxuY29uc3QgY3JlYXRlQ2FyZCA9IChkYXRhKSA9PiB7XHJcbiAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKGRhdGEsIHRlbXBsYXRlU2VsZWN0b3IsICh0aXRsZSwgbGluaykgPT4ge1xyXG4gICAgcG9wdXBXaXRoSW1hZ2Uub3Blbih0aXRsZSwgbGluayk7XHJcbiAgfSk7XHJcbiAgcmV0dXJuIGNhcmQuY3JlYXRlQ2FyZCgpO1xyXG59O1xyXG5jb25zdCByZW5kZXJDYXJkID0gKGRhdGEsIGNhcmRzZWxlY3RvcikgPT4ge1xyXG4gIGNvbnN0IGNhcmQgPSBjcmVhdGVDYXJkKGRhdGEpO1xyXG4gIHNlY3Rpb24uYWRkSXRlbShjYXJkKTtcclxufTtcclxuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5cclxuLy9jbGFzc2VzLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbmNvbnN0IHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKHNwYW5BcnJheSk7XHJcblxyXG5jb25zdCBwb3B1cFdpdGhJbWFnZSA9IG5ldyBQb3B1cFdpdGhJbWFnZShvcGVuSW1nVmlldyk7XHJcbnBvcHVwV2l0aEltYWdlLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5jb25zdCBwcm9maWxlRm9ybSA9IG5ldyBQb3B1cFdpdGhGb3JtKHByb2ZpbGVQb3B1cCwgc3VibWl0ZVByb2ZpbGVGb3JtSW5wdXRzKTtcclxucHJvZmlsZUZvcm0uc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbmNvbnN0IGFkZENhcmRGb3JtID0gbmV3IFBvcHVwV2l0aEZvcm0oYWRkQ2FyZFBvcHVwLCAoZGF0YSkgPT4ge1xyXG4gIHJlbmRlckNhcmQoXHJcbiAgICB7XHJcbiAgICAgIHRpdGxlOiBkYXRhLnRpdGxlLFxyXG4gICAgICBsaW5rOiBkYXRhLmxpbmssXHJcbiAgICB9LFxyXG4gICAgZ2FsbGVyeVdyYXBcclxuICApO1xyXG4gIGFkZENhcmRGb3JtLmNsb3NlKCk7XHJcbn0pO1xyXG5hZGRDYXJkRm9ybS5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuY29uc3Qgc2VjdGlvbiA9IG5ldyBTZWN0aW9uKFxyXG4gIHsgaXRlbXM6IGluaXRpYWxHYWxsZXJ5LCByZW5kZXJlcjogcmVuZGVyQ2FyZCB9LFxyXG4gIGdhbGxlcnlXcmFwXHJcbik7XHJcbnNlY3Rpb24ucmVuZGVySXRlbXMoKTtcclxuLy9saXN0ZW5lcnMvLy8vLy8vLy8vXHJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxub3BlbkltZ0FkZFBvcHVwLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiByZXNldEFuZE9wZW5JbWdBZGRGb3JtKCkpO1xyXG5cclxub3BlblByb2ZpbGVFZGl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgcmVzZXRBbmRPcGVuUHJvZmlsZUZvcm0oKTtcclxufSk7XHJcbiIsImV4cG9ydCBjbGFzcyBVc2VySW5mbyB7XHJcbiAgY29uc3RydWN0b3IoeyBuYW1lU2VsZWN0b3IsIG9jY3VwYXRpb25TZWxlY3RvciB9KSB7XHJcbiAgICB0aGlzLl91c2VyTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobmFtZVNlbGVjdG9yKTtcclxuICAgIHRoaXMuX3VzZXJPY2N1cGF0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihvY2N1cGF0aW9uU2VsZWN0b3IpO1xyXG4gIH1cclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIG5hbWU6IHRoaXMuX3VzZXJOYW1lLnRleHRDb250ZW50LFxyXG4gICAgICBvY2N1cGF0aW9uOiB0aGlzLl91c2VyT2NjdXBhdGlvbi50ZXh0Q29udGVudCxcclxuICAgIH07XHJcbiAgfVxyXG4gIHNldFVzZXJJbmZvKGRhdGEpIHtcclxuICAgICh0aGlzLl91c2VyTmFtZS50ZXh0Q29udGVudCA9IGRhdGEubmFtZSksXHJcbiAgICAgICh0aGlzLl91c2VyT2NjdXBhdGlvbi50ZXh0Q29udGVudCA9IGRhdGEub2NjdXBhdGlvbik7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IFBvcHVwIH0gZnJvbSBcIi4vUG9wdXBcIjtcclxuZXhwb3J0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG4gIG9wZW4odGl0bGUsIGxpbmspIHtcclxuICAgIHRoaXMuX2ltYWdlID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faW1nXCIpO1xyXG4gICAgdGhpcy5fY2FwdGlvbiA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2NhcHRpb25cIik7XHJcblxyXG4gICAgKHRoaXMuX2NhcHRpb24udGV4dENvbnRlbnQgPSB0aXRsZSksXHJcbiAgICAgICh0aGlzLl9pbWFnZS5zcmMgPSBsaW5rKSxcclxuICAgICAgKHRoaXMuX2ltYWdlLmFsdCA9IGBQaG90byBvZiAke3RpdGxlfWApO1xyXG4gICAgc3VwZXIub3BlbigpO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgY2xhc3MgU2VjdGlvbiB7XHJcbiAgY29uc3RydWN0b3IoeyBpdGVtcywgcmVuZGVyZXIgfSwgY29udGFpbmVyU2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX2l0ZW1zID0gaXRlbXM7XHJcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xyXG4gICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3Rvcik7XHJcbiAgfVxyXG4gIHJlbmRlckl0ZW1zKCkge1xyXG4gICAgdGhpcy5faXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICB0aGlzLl9yZW5kZXJlcihpdGVtLCB0aGlzLl9jb250YWluZXIpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG4gIGFkZEl0ZW0oZWxlbWVudCkge1xyXG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk7XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJDYXJkIiwiY29uc3RydWN0b3IiLCJkYXRhIiwic2VsZWN0b3IiLCJoYW5kbGVDYXJkQ2xpY2siLCJ0aGlzIiwiX2NhcmRFbGVtZW50IiwicmVtb3ZlIiwiZXZ0IiwidGFyZ2V0IiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwiX3RpdGxlIiwidGl0bGUiLCJfbGluayIsImxpbmsiLCJfYWx0IiwiX3RlbXBsYXRlRWxlbWVudCIsIl9oYW5kbGVDYXJkQ2xpY2siLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJfZGVsZXRlQ2FyZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJfcmVtb3ZlQ2FyZCIsIl9saWtlQ2FyZCIsIl90b2dnbGVIZWFydCIsIl9nYWxsZXJ5SW1nIiwiY3JlYXRlQ2FyZCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJfZ2FsbGVyeVRleHQiLCJzcmMiLCJ0ZXh0Q29udGVudCIsImFsdCIsIkZvcm1WYWxpZGF0b3IiLCJzZXR0aW5ncyIsImZvcm1FbGVtZW50IiwiX2hpZGVBbGxFcnJvcnMiLCJfZm9ybUVsZW1lbnQiLCJyZXNldCIsIl9kaXNhYmxlQnV0dG9uIiwicHJldmVudERlZmF1bHQiLCJfYWxsSW5wdXRzIiwiZm9yRWFjaCIsImlucHV0RWwiLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwiX3RvZ2dsZUJ1dHRvbiIsImlucHV0IiwiX2hpZGVJbnB1dEVycm9yIiwiYnV0dG9uRGlzYWJsZSIsIl9zZXR0aW5ncyIsIl9idXR0b25FbCIsImFkZCIsImRpc2FibGVkIiwiZXJyb3JNZXNzYWdlIiwiaW5wdXRFcnJvckNsYXNzIiwic3BhbkVycm9yQ2xhc3MiLCJfZXJyb3JEeW5hbWljU3BhbiIsImlkIiwiaW5wdXRzIiwiZXZlcnkiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX3Nob3dJbnB1dEVycm9yIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiaW5wdXRTZWxlY3RvciIsImJ1dHRvblNlbGVjdG9yIiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwiY29udGFpbnMiLCJjbG9zZSIsImtleSIsIl9wb3B1cCIsIm9wZW4iLCJfaGFuZGxlRXNjQ2xvc2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJfaGFuZGxlT3ZlcmxheSIsIlBvcHVwV2l0aEZvcm0iLCJoYW5kbGVGb3JtIiwic3VwZXIiLCJfaGFuZGxlRm9ybSIsIl9mb3JtIiwiX2lucHV0cyIsIl9nZXRJbnB1dFZhbHVlcyIsIl92YWx1ZXMiLCJfa2V5IiwibmFtZSIsIl92YWx1ZSIsInZhbHVlIiwiX3ZhbHVlc0Zyb21Gb3JtIiwic2V0SW5wdXRWYWx1ZXMiLCJvcGVuUHJvZmlsZUVkaXRCdXR0b24iLCJmb3JtcyIsImZvcm1Qcm9maWxlIiwiZWxlbWVudHMiLCJvY2N1cGF0aW9uIiwib3BlbkltZ0FkZFBvcHVwIiwiaW5pdGlhbEdhbGxlcnkiLCJhcGkiLCJvcHRpb25zIiwiX2Jhc2VVcmwiLCJiYXNlVXJsIiwiX2hlYWRlcnMiLCJoZWFkZXJzIiwiZ2V0VXNlckluZm8iLCJmZXRjaCIsInRoZW4iLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzVGV4dCIsImdldENhcmRzSW5mbyIsImF1dGhvcml6YXRpb24iLCJjb25zb2xlIiwibG9nIiwiY2F0Y2giLCJyZXZlcnNlIiwiZm9ybVZhbGlkYXRvcnMiLCJmb3JtSW1nIiwicmVuZGVyQ2FyZCIsImNhcmRzZWxlY3RvciIsImNhcmQiLCJwb3B1cFdpdGhJbWFnZSIsInNlY3Rpb24iLCJhZGRJdGVtIiwiZm9ybUVsIiwidmFsaWRhdG9yIiwiZm9ybU5hbWUiLCJnZXRBdHRyaWJ1dGUiLCJlbmFibGVWYWxpZGF0aW9uIiwidXNlckluZm8iLCJuYW1lU2VsZWN0b3IiLCJvY2N1cGF0aW9uU2VsZWN0b3IiLCJfdXNlck5hbWUiLCJfdXNlck9jY3VwYXRpb24iLCJzZXRVc2VySW5mbyIsIl9pbWFnZSIsIl9jYXB0aW9uIiwicHJvZmlsZUZvcm0iLCJhZGRDYXJkRm9ybSIsImNvbnRhaW5lclNlbGVjdG9yIiwiaXRlbXMiLCJyZW5kZXJlciIsIl9pdGVtcyIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJyZW5kZXJJdGVtcyIsIml0ZW0iLCJlbGVtZW50IiwicHJlcGVuZCIsInJlc2V0VmFsaWRhdGlvbiJdLCJzb3VyY2VSb290IjoiIn0=